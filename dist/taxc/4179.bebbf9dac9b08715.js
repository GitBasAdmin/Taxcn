"use strict";(self.webpackChunktaxc=self.webpackChunktaxc||[]).push([[4179],{4179:(R,E,c)=>{c.d(E,{G:()=>D});var t=c(4438),u=c(1653),d=c(4341),m=c(1626),h=c(6554),M=c(671),g=c(5281),p=c(177);function f(o,a){if(1&o){const i=t.RV6();t.j41(0,"tr")(1,"td",9)(2,"input",11),t.mxI("ngModelChange",function(e){const _=t.eBV(i).index,l=t.XpG(3);return t.DH7(l.items[_].index,e)||(l.items[_].index=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.XpG(3);return t.Njj(e.isAllSelected(e.items,"masterSelect","index"))}),t.k0s()(),t.j41(3,"td",16),t.bIt("click",function(){const e=t.eBV(i).index,_=t.XpG(3);return t.Njj(_.onClickListData(e))}),t.EFF(4),t.k0s(),t.j41(5,"td",16),t.bIt("click",function(){const e=t.eBV(i).index,_=t.XpG(3);return t.Njj(_.onClickListData(e))}),t.EFF(6),t.k0s(),t.j41(7,"td",16),t.bIt("click",function(){const e=t.eBV(i).index,_=t.XpG(3);return t.Njj(_.onClickListData(e))}),t.EFF(8),t.k0s(),t.j41(9,"td",16),t.bIt("click",function(){const e=t.eBV(i).index,_=t.XpG(3);return t.Njj(_.onClickListData(e))}),t.EFF(10),t.k0s()()}if(2&o){const i=a.$implicit,n=a.index,e=t.XpG(3);t.R7$(2),t.R50("ngModel",e.items[n].index),t.R7$(2),t.JRh(i.lit_type_desc),t.R7$(2),t.JRh(i.item),t.R7$(2),t.JRh(i.doc_no),t.R7$(2),t.JRh(i.doc_desc)}}function k(o,a){if(1&o&&(t.j41(0,"tbody"),t.DNE(1,f,11,5,"tr",15),t.k0s()),2&o){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",i.items)}}function b(o,a){1&o&&(t.j41(0,"tbody")(1,"tr")(2,"td",17),t.EFF(3,"###### \u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 #######"),t.k0s()()())}function j(o,a){if(1&o){const i=t.RV6();t.j41(0,"div")(1,"div",1)(2,"table",2)(3,"tr")(4,"td",3)(5,"div",4)(6,"div",5)(7,"input",6),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.checkUncheckAll(e.items,"masterSelect","index"))}),t.k0s()(),t.j41(8,"div",5)(9,"input",7),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.useDataList())}),t.k0s()()()()()(),t.j41(10,"table",8)(11,"thead")(12,"tr",9)(13,"th",10)(14,"input",11),t.mxI("ngModelChange",function(e){t.eBV(i);const _=t.XpG();return t.DH7(_.masterSelect,e)||(_.masterSelect=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.checkUncheckAll(e.items,"masterSelect","index"))}),t.k0s()(),t.j41(15,"th",12),t.EFF(16,"\u0e40\u0e08\u0e49\u0e32\u0e02\u0e2d\u0e07"),t.k0s(),t.j41(17,"th",13),t.EFF(18,"\u0e25\u0e33\u0e14\u0e31\u0e1a\u0e17\u0e35\u0e48"),t.k0s(),t.j41(19,"th",12),t.EFF(20,"\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e2b\u0e21\u0e32\u0e22"),t.k0s(),t.j41(21,"th",14),t.EFF(22,"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"),t.k0s()()(),t.DNE(23,k,2,1,"tbody",0)(24,b,4,0,"tbody",0),t.k0s()()()}if(2&o){const i=t.XpG();t.R7$(14),t.R50("ngModel",i.masterSelect),t.R7$(9),t.Y8G("ngIf",0!=(null==i.items?null:i.items.length)),t.R7$(),t.Y8G("ngIf",0==(null==i.items?null:i.items.length))}}function x(o,a){if(1&o){const i=t.RV6();t.j41(0,"tr")(1,"td",9)(2,"input",11),t.mxI("ngModelChange",function(e){const _=t.eBV(i).index,l=t.XpG(3);return t.DH7(l.items[_].index,e)||(l.items[_].index=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.XpG(3);return t.Njj(e.isAllSelected(e.items,"masterSelect","index"))}),t.k0s()(),t.j41(3,"td",16),t.bIt("click",function(){const e=t.eBV(i).index,_=t.XpG(3);return t.Njj(_.onClickListData(e))}),t.EFF(4),t.k0s(),t.j41(5,"td",16),t.bIt("click",function(){const e=t.eBV(i).index,_=t.XpG(3);return t.Njj(_.onClickListData(e))}),t.EFF(6),t.k0s(),t.j41(7,"td",16),t.bIt("click",function(){const e=t.eBV(i).index,_=t.XpG(3);return t.Njj(_.onClickListData(e))}),t.EFF(8),t.k0s(),t.j41(9,"td",16),t.bIt("click",function(){const e=t.eBV(i).index,_=t.XpG(3);return t.Njj(_.onClickListData(e))}),t.EFF(10),t.k0s()()}if(2&o){const i=a.$implicit,n=a.index,e=t.XpG(3);t.R7$(2),t.R50("ngModel",e.items[n].index),t.R7$(2),t.JRh(i.lit_type_desc),t.R7$(2),t.JRh(i.item),t.R7$(2),t.JRh(i.doc_no),t.R7$(2),t.JRh(i.doc_desc)}}function v(o,a){if(1&o&&(t.j41(0,"tbody"),t.DNE(1,x,11,5,"tr",15),t.k0s()),2&o){const i=t.XpG(2);t.R7$(),t.Y8G("ngForOf",i.items)}}function C(o,a){1&o&&(t.j41(0,"tbody")(1,"tr")(2,"td",17),t.EFF(3,"###### \u0e44\u0e21\u0e48\u0e1e\u0e1a\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25 #######"),t.k0s()()())}function y(o,a){if(1&o){const i=t.RV6();t.j41(0,"div")(1,"div",18)(2,"button",19),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.activeModal.close())}),t.k0s()(),t.j41(3,"div",20)(4,"div",1)(5,"table",2)(6,"tr")(7,"td",3)(8,"div",4)(9,"div",5)(10,"input",6),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.checkUncheckAll(e.items,"masterSelect","index"))}),t.k0s()(),t.j41(11,"div",5)(12,"input",7),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.useDataList())}),t.k0s()()()()()(),t.j41(13,"table",8)(14,"thead")(15,"tr",9)(16,"th",10)(17,"input",11),t.mxI("ngModelChange",function(e){t.eBV(i);const _=t.XpG();return t.DH7(_.masterSelect,e)||(_.masterSelect=e),t.Njj(e)}),t.bIt("change",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.checkUncheckAll(e.items,"masterSelect","index"))}),t.k0s()(),t.j41(18,"th",12),t.EFF(19,"\u0e40\u0e08\u0e49\u0e32\u0e02\u0e2d\u0e07"),t.k0s(),t.j41(20,"th",13),t.EFF(21,"\u0e25\u0e33\u0e14\u0e31\u0e1a\u0e17\u0e35\u0e48"),t.k0s(),t.j41(22,"th",12),t.EFF(23,"\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e2b\u0e21\u0e32\u0e22"),t.k0s(),t.j41(24,"th",14),t.EFF(25,"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14"),t.k0s()()(),t.DNE(26,v,2,1,"tbody",0)(27,C,4,0,"tbody",0),t.k0s()()(),t.j41(28,"div",21)(29,"button",22),t.bIt("click",function(){t.eBV(i);const e=t.XpG();return t.Njj(e.activeModal.close())}),t.EFF(30,"\u0e1b\u0e34\u0e14\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d"),t.k0s()()()}if(2&o){const i=t.XpG();t.R7$(17),t.R50("ngModel",i.masterSelect),t.R7$(9),t.Y8G("ngIf",0!=(null==i.items?null:i.items.length)),t.R7$(),t.Y8G("ngIf",0==(null==i.items?null:i.items.length))}}let D=(()=>{class o{constructor(i,n,e,_,l){this.formBuilder=i,this.http=n,this.SpinnerService=e,this.authService=_,this.activeModal=l,this.onClickList=new t.bkB,this.items=[],this.masterSelect=!1}ngOnInit(){this.sessData=localStorage.getItem(this.authService.sessJson),this.userData=JSON.parse(this.sessData),this.showDataList()}ngAfterViewInit(){console.log(u("body").find(".tblMaterial").closest(".modal-content")),u("body").find(".tblMaterial").closest(".modal-content").css("width","800px")}checkUncheckAll(i,n,e){for(var _=0;_<i.length;_++)i[_][e]=this[n]}isAllSelected(i,n,e){this[n]=i.every(function(_){return 1==_[e]})}showDataList(){var i=JSON.stringify({run_id:this.run_id,userToken:this.userData.userToken});console.log(i),this.http.post("/"+this.userData.appName+"ApiDO/API/KEEPB/fdo0200/getMaterial",i).subscribe(n=>{let e=JSON.parse(JSON.stringify(n));console.log(e),this.items=e,this.items.forEach(_=>_.index=!1)},n=>{})}useDataList(){var i=[],e=[];console.log(this.types),this.types?(e.receipt_from=[],e.lit_type_desc=[],e.doc_no=[],e.page_no=0,new Promise((T,r)=>{this.items.forEach((s,I,G)=>{1==s.index&&(s.receipt_from&&e.receipt_from.push(s.receipt_from),s.lit_type_desc&&e.lit_type_desc.push(s.lit_type_desc),s.doc_no&&e.doc_no.push(s.doc_no),s.page_no&&(e.page_no+=parseInt(s.page_no)))})})&&(i.receipt_from=e.receipt_from.toString(),i.lit_type_desc=e.lit_type_desc.toString(),i.doc_no=e.doc_no.toString(),i.page_no=e.page_no.toString(),console.log(i),this.activeModal.close(u.extend({},i)))):new Promise((B,T)=>{this.items.forEach((r,s,I)=>{1==r.index&&e.push("\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23"+(r.lit_type_desc?r.lit_type_desc:"")+" "+(r.doc_no?r.doc_no:""))})})&&(i.fieldNameValue=e.toString(),this.activeModal.close(u.extend({},i)))}onClickListData(i){this.activeModal.close(this.types?this.items[i]:{fieldNameValue:"\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23"+(this.items[i].lit_type_desc?this.items[i].lit_type_desc:"")+" "+(this.items[i].doc_no?this.items[i].doc_no:"")})}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(d.ok),t.rXU(m.Qq),t.rXU(h.ex),t.rXU(M.u),t.rXU(g.Lw))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-modal-material"]],inputs:{run_id:"run_id",types:"types"},outputs:{onClickList:"onClickList"},decls:2,vars:2,consts:[[4,"ngIf"],[2,"min-height","100px","max-height","480px","overflow","auto"],["width","100%","border","0","align","center","cellpadding","2","cellspacing","0",1,"tblMaterial"],["height","30","align","center",1,"blackb"],[2,"display","table","margin","0 auto","width","fit-content"],[2,"float","left","margin-left","4px"],["name","showAll","type","submit","id","showAll","value","\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14",1,"btn","btn-success",3,"click"],["name","useAll","type","submit","id","useAll","value","\u0e43\u0e0a\u0e49\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e17\u0e35\u0e48\u0e40\u0e25\u0e37\u0e2d\u0e01",1,"btn","btn-success",3,"click"],["width","100%","border","0","align","center","cellpadding","0","cellspacing","1",1,"bordered",2,"margin-top","4px"],["align","center"],["width","50","height","25"],["type","checkbox",2,"height","15px","width","15px","margin-top","2px","cursor","pointer",3,"ngModelChange","change","ngModel"],["width","120","height","25"],["width","100","height","25"],["width","200","height","25"],[4,"ngFor","ngForOf"],["align","center",3,"click"],["colspan","5",1,"no-data-available",2,"color","red","text-align","center"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(n,e){1&n&&t.DNE(0,j,25,3,"div",0)(1,y,31,3,"div",0),2&n&&(t.Y8G("ngIf",!e.types),t.R7$(),t.Y8G("ngIf",e.types))},dependencies:[p.Sq,p.bT,d.Zm,d.BC,d.vS]})}return o})()}}]);