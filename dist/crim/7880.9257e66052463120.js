"use strict";(self.webpackChunkcrim=self.webpackChunkcrim||[]).push([[7880],{7880:(Se,S,h)=>{h.r(S),h.d(S,{PrcaModule:()=>Ie});var C=h(177),_=h(4341),O=h(1590),M=h(6721),R=h(4646),g=h(1626),j=h(5539),T=h(1413),N=h(668),c=h(1653),e=h(4438),E=h(6554),k=h(970),b=h(5281),D=h(671),f=h(2510);const F=["prca0500"],V=["openbutton"],B=["closebutton"],J=["scasetypeid"],w=["sCaseStat"],x=["sTitleGroup"],I=()=>({standalone:!0});function G(l,d){if(1&l&&(e.j41(0,"ng-option",47),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.fieldIdValue),e.R7$(),e.JRh(s.fieldNameValue)}}function L(l,d){if(1&l&&(e.j41(0,"ng-option",47),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.fieldIdValue),e.R7$(),e.JRh(s.fieldNameValue)}}function U(l,d){if(1&l&&(e.j41(0,"ng-option",47),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.fieldIdValue),e.R7$(),e.JRh(s.fieldNameValue)}}function H(l,d){if(1&l&&(e.j41(0,"ng-option",47),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.id),e.R7$(),e.JRh(s.text)}}let Y=(()=>{class l{constructor(s,r,t,n,a,i){this.formBuilder=s,this.http=r,this.SpinnerService=t,this.printReportService=n,this.ngbModal=a,this.authService=i,this.title="datatables",this.selectedCasetype="\u0e41\u0e1e\u0e48\u0e07",this.result=[],this.loadModalListComponent=!1,this.loadModalJudgeComponent=!1,this.dtOptions={},this.dtTrigger=new T.B,this.loadComponent=!1}ngOnInit(){this.sessData=localStorage.getItem(this.authService.sessJson),this.userData=JSON.parse(this.sessData),this.successHttp();let s=new g.Lr;s=s.set("Content-Type","application/json");var r=JSON.stringify({table_name:"pcase_type",field_id:"case_type",field_name:"case_type_desc",order_by:"case_type ASC",userToken:this.userData.userToken});this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",r,{headers:s}).subscribe(t=>{let n=JSON.parse(JSON.stringify(t));this.getCaseType=n,this.selCaseType=this.userData.defaultCaseType},t=>{}),this.getPrintType=[{id:"1",text:"\u0e04\u0e39\u0e48\u0e04\u0e27\u0e32\u0e21\u0e01\u0e31\u0e1a\u0e1e\u0e27\u0e01\u0e23\u0e27\u0e21"},{id:"2",text:"\u0e04\u0e39\u0e48\u0e04\u0e27\u0e32\u0e21\u0e23\u0e32\u0e22\u0e1a\u0e38\u0e04\u0e04\u0e25"}],this.result.pprint_type="1"}successHttp(){let s=new g.Lr;s=s.set("Content-Type","application/json");var r=JSON.stringify({userToken:this.userData.userToken,url_name:"prca0500"});return new Promise((n,a)=>{this.http.post("/"+this.userData.appName+"Api/API/authen",r,{headers:s}).toPromise().then(i=>{let o=JSON.parse(JSON.stringify(i));console.log(o),this.programName=o.programName,this.defaultCaseType=o.defaultCaseType,this.defaultCaseTypeText=o.defaultCaseTypeText,this.defaultTitle=o.defaultTitle,this.defaultRedTitle=o.defaultRedTitle,n(i)},i=>{a(i)})})}rerender(){this.dtElement.dtInstance.then(s=>{s.destroy(),this.dtTrigger.next(null)})}ngAfterViewInit(){myExtObject.callCalendar(),this.dtTrigger.next(null)}ngOnDestroy(){this.dtTrigger.unsubscribe()}ClearAll(){window.location.reload()}changeTitle(s,r){this.title="";var t=JSON.stringify({table_name:"ptitle",field_id:"title_id",field_name:"title",field_name2:"title_group",condition:" AND case_type="+s+" And title_flag=1",order_by:" title_id ASC",userToken:this.userData.userToken});console.log("fTitle :"+t);let n=new g.Lr;return n=n.set("Content-Type","application/json"),new Promise((i,o)=>{this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t,{headers:n}).subscribe(u=>{let p=JSON.parse(JSON.stringify(u));this.getTitle=p,console.log(this.getTitle),r>0&&(this.title=r)},u=>{})})}tabChangeInput(s,r){if("pdep_code"==s){var t=JSON.stringify({table_name:"pdepartment",field_id:"dep_code",field_name:"dep_name",condition:" AND dep_code='"+r.target.value+"'",userToken:this.userData.userToken});console.log(t),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t).subscribe(n=>{let a=JSON.parse(JSON.stringify(n));console.log(a),a.length?this.result.dep_name=a[0].fieldNameValue:(this.result.pdep_code="",this.result.dep_name="")},n=>{})}else"poff_id"==s?(t=JSON.stringify({table_name:"pofficer",field_id:"off_id",field_name:"off_name",field_name2:"post_id",condition:" AND off_id='"+r.target.value+"'",userToken:this.userData.userToken}),console.log(t),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t).subscribe(a=>{let i=JSON.parse(JSON.stringify(a));i.length?(this.result.poff_name=i[0].fieldNameValue,this.getPost(i[0].fieldNameValue2,2)):(this.result.poff_id="",this.result.poff_name="")},a=>{})):"psign_id"==s?(t=JSON.stringify({table_name:"pofficer",field_id:"off_id",field_name:"off_name",field_name2:"post_id",condition:" AND off_id='"+r.target.value+"'",userToken:this.userData.userToken}),console.log(t),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t).subscribe(a=>{let i=JSON.parse(JSON.stringify(a));i.length?(this.result.psign_name=i[0].fieldNameValue,this.getPost(i[0].fieldNameValue2,3)):(this.result.psign_id="",this.result.psign_name="")},a=>{})):"preport_judge_id"==s&&(t=JSON.stringify({table_name:"pjudge",field_id:"judge_id",field_name:"judge_name",field_name2:"post_id",condition:" AND judge_id='"+r.target.value+"'",userToken:this.userData.userToken}),console.log(t),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t).subscribe(a=>{let i=JSON.parse(JSON.stringify(a));i.length?(this.result.preport_judge_name=i[0].fieldNameValue,this.getPost(i[0].fieldNameValue2,4)):(this.result.preport_judge_id="",this.result.preport_judge_name="")},a=>{}))}getPost(s,r){if(s){var t=JSON.stringify({table_name:"pposition",field_id:"post_id",field_name:"post_name",condition:" AND post_id='"+s+"'",userToken:this.userData.userToken});console.log(t),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t).subscribe(n=>{let a=JSON.parse(JSON.stringify(n));a.length?2==r?this.result.poff_post=a[0].fieldNameValue:3==r?this.result.psign_post=a[0].fieldNameValue:4==r&&(this.result.preport_judge_post=a[0].fieldNameValue):2==r?this.result.poff_post="":3==r?this.result.psign_post="":4==r&&(this.result.preport_judge_post="")},n=>{})}}clickOpenMyModalComponent(s){this.modalType=s,this.loadMyModalComponent()}loadMyModalComponent(){if(c(".modal-backdrop").remove(),1==this.modalType){c("#exampleModal").find(".modal-content").css("width","800px");var s=JSON.stringify({table_name:"pdepartment",field_id:"dep_code",field_name:"dep_name",search_id:"",search_desc:"",userToken:this.userData.userToken});this.listTable="pdepartment",this.listFieldId="dep_code",this.listFieldName="dep_name",this.listFieldNull="",this.http.disableLoading().post("/"+this.userData.appName+"ApiUTIL/API/popup",s).subscribe(r=>{console.log(r),this.list=r;const t=this.ngbModal.open(j.Y,{size:"lg",backdrop:"static"});t.componentInstance.items=this.list,t.componentInstance.value1="pdepartment",t.componentInstance.value2="dep_code",t.componentInstance.value3="dep_name",t.componentInstance.types="1",t.result.then(n=>{n&&(this.result.pdep_code=n.fieldIdValue,this.result.dep_name=n.fieldNameValue)})},r=>{})}2==this.modalType||3==this.modalType?(c("#exampleModal").find(".modal-content").css("width","800px"),s=JSON.stringify({table_name:"pofficer",field_id:"off_id",field_name:"off_name",field_name2:"post_id",search_id:"",search_desc:"",userToken:this.userData.userToken}),this.listTable="pofficer",this.listFieldId="off_id",this.listFieldName="off_name",this.listFieldName2="post_id",this.listFieldNull="",this.http.disableLoading().post("/"+this.userData.appName+"ApiUTIL/API/popup",s).subscribe(t=>{console.log(t),this.list=t;const n=this.ngbModal.open(j.Y,{size:"lg",backdrop:"static"});n.componentInstance.items=this.list,n.componentInstance.value1="pofficer",n.componentInstance.value2="off_id",n.componentInstance.value3="off_name",n.componentInstance.value4="post_id",n.componentInstance.types="1",n.result.then(a=>{a&&(2==this.modalType?(this.result.poff_id=a.fieldIdValue,this.result.poff_name=a.fieldNameValue,this.getPost(a.fieldNameValue2,this.modalType)):3==this.modalType&&(this.result.psign_id=a.fieldIdValue,this.result.psign_name=a.fieldNameValue,this.getPost(a.fieldNameValue2,this.modalType)))})},t=>{})):4==this.modalType&&(s=JSON.stringify({table_name:"pjudge",field_id:"judge_id",field_name:"judge_name",field_name2:"post_id",search_id:"",search_desc:"",userToken:this.userData.userToken}),this.listTable="pjudge",this.listFieldId="judge_id",this.listFieldName="judge_name",this.listFieldName2="post_id",this.listFieldNull="",this.http.disableLoading().post("/"+this.userData.appName+"ApiUTIL/API/popup",s).subscribe(t=>{console.log(t),this.list=t;const n=this.ngbModal.open(j.Y,{size:"lg",backdrop:"static"});n.componentInstance.items=this.list,n.componentInstance.value1="pjudge",n.componentInstance.value2="judge_id",n.componentInstance.value3="judge_name",n.componentInstance.value4="post_id",n.componentInstance.types="1",n.result.then(a=>{a&&4==this.modalType&&(this.result.preport_judge_id=a.fieldIdValue,this.result.preport_judge_name=a.fieldNameValue,this.getPost(a.fieldNameValue2,this.modalType))})},t=>{}))}closeModal(){this.loadModalListComponent=!1,this.loadModalJudgeComponent=!1}fCaseTitle(s){var r=JSON.stringify({table_name:"ptitle",field_id:"title_id",field_name:"title",field_name2:"title_group",condition:"AND title_flag='1' AND case_type='"+s+"'",order_by:" order_id ASC",userToken:this.userData.userToken});return new Promise((n,a)=>{this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",r).subscribe(i=>{let o=JSON.parse(JSON.stringify(i));console.log(o),this.getTitle=o,this.fCaseStat(s,o[0].fieldIdValue)},i=>{})})}fCaseStat(s,r){var t=JSON.stringify({table_name:"pcase_cate",field_id:"case_cate_id",field_name:"case_cate_name",condition:" AND case_type='"+s+"'",order_by:" case_cate_id ASC",userToken:this.userData.userToken});let n=new g.Lr;return n=n.set("Content-Type","application/json"),new Promise((i,o)=>{this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t,{headers:n}).subscribe(u=>{let p=JSON.parse(JSON.stringify(u));this.getCaseCate=p},u=>{})})}receiveFuncListData(s){console.log(s),1==this.modalType?(this.result.pdep_code=s.fieldIdValue,this.result.dep_name=s.fieldNameValue):2==this.modalType?(this.result.poff_id=s.fieldIdValue,this.result.poff_name=s.fieldNameValue,this.getPost(s.fieldNameValue2,this.modalType)):3==this.modalType?(this.result.psign_id=s.fieldIdValue,this.result.psign_name=s.fieldNameValue,this.getPost(s.fieldNameValue2,this.modalType)):4==this.modalType&&(this.result.preport_judge_id=s.fieldIdValue,this.result.preport_judge_name=s.fieldNameValue,this.getPost(s.fieldNameValue2,this.modalType)),this.closebutton.nativeElement.click()}receiveJudgeListData(s){this.result.pid=s.judge_id,this.result.pstat_name=s.judge_name,this.closebutton.nativeElement.click()}directiveDate(s,r){this.result[r]=s}assignOffChk(s){1==s?(this.result.poff_id=this.userData.userCode,this.result.poff_name=this.userData.offName,this.result.poff_post=this.userData.postName):(this.result.poff_id="",this.result.poff_name="",this.result.poff_post="")}assignSignChk(s){1==s?(this.result.psign_id=this.userData.directorId,this.result.psign_name=this.userData.directorName,this.result.psign_post=this.userData.directorPostName):(this.result.psign_id="",this.result.psign_name="",this.result.psign_post="")}assignReportChk(s){1==s?(this.result.preport_judge_id=this.userData.headJudgeId,this.result.preport_judge_name=this.userData.headJudgeName,this.result.preport_judge_post=this.userData.headJudgePost):(this.result.preport_judge_id="",this.result.preport_judge_name="",this.result.preport_judge_post="")}printReport(){var r=JSON.stringify({ptitle:this.result.ptitle_group?this.result.ptitle_group:"",poff_name:this.result.poff_name?this.result.poff_name:"",poff_post:this.result.poff_post?this.result.poff_post:"",psign_name:this.result.psign_name?this.result.psign_name:"",psign_post:this.result.psign_post?this.result.psign_post:"",preport_judge_name:this.result.preport_judge_name?this.result.preport_judge_name:"",preport_judge_post:this.result.preport_judge_post?this.result.preport_judge_post:"",pdate_start:this.result.txtStartDate?myExtObject.conDate(this.result.txtStartDate):"",pdate_end:this.result.txtEndDate?myExtObject.conDate(this.result.txtEndDate):"",pdep_code:this.result.pdep_code?this.result.pdep_code.toString():"",pcase_court_type:this.userData.courtTypeId?this.userData.courtTypeId.toString():"",pcase_type:this.result.pcase_type?this.result.pcase_type.toString():"",pcase_cate_id:this.result.pcase_cate_id?this.result.pcase_cate_id.toString():"",ptitle_group:this.result.ptitle_group?this.result.ptitle_group:"",pcon_flag:1==this.result.pcon_flag?"1":"0",pprint_type:this.pprint_type?this.pprint_type.toString():""});console.log(r),this.printReportService.printReport("rca0500",r)}changeCaseType(s){this.sCaseStat.clearModel(),this.sTitleGroup.clearModel(),this.fCaseTitle(s)}static#e=this.\u0275fac=function(r){return new(r||l)(e.rXU(_.ok),e.rXU(g.Qq),e.rXU(E.ex),e.rXU(k.h),e.rXU(b.Bq),e.rXU(D.u))};static#t=this.\u0275cmp=e.VBU({type:l,selectors:[["app-prca0500"],["ngbd-popover-basic"],["ngbd-popover-tplcontent"]],viewQuery:function(r,t){if(1&r&&(e.GBs(F,7),e.GBs(V,7),e.GBs(B,7),e.GBs(N._,5),e.GBs(J,5),e.GBs(w,5),e.GBs(x,5)),2&r){let n;e.mGM(n=e.lsd())&&(t.prca0500=n.first),e.mGM(n=e.lsd())&&(t.openbutton=n.first),e.mGM(n=e.lsd())&&(t.closebutton=n.first),e.mGM(n=e.lsd())&&(t.dtElement=n.first),e.mGM(n=e.lsd())&&(t.scasetypeid=n.first),e.mGM(n=e.lsd())&&(t.sCaseStat=n.first),e.mGM(n=e.lsd())&&(t.sTitleGroup=n.first)}},decls:120,vars:35,consts:[["sCaseType",""],["sCaseStat",""],["sTitleGroup",""],["txtStartDate",""],["txtEndDate",""],["sType",""],["poff_chk",""],["psign_chk",""],["preport_chk",""],["id","div-wraper",2,"width","100%","height","100%"],[1,"content",2,"padding","10px"],[1,"card-body"],["align","center",1,"card",2,"box-shadow","none !important","padding","5px"],["width","100%","border","0","cellspacing","2","cellpadding","2",1,"form_table"],["align","right","width","20%"],["align","left"],[2,"float","left"],[2,"width","100px",3,"ngModelChange","change","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[2,"float","left","margin-left","8px","margin-top","5px"],[2,"width","225px",3,"ngModelChange","ngModel","ngModelOptions"],[2,"width","100px",3,"ngModelChange","ngModel"],[2,"float","left","margin-left","5px"],["name","pcon_flag","type","checkbox","id","pcon_flag",2,"width","15px","margin-top","5px",3,"ngModelChange","ngModel","value"],[2,"float","left","margin-left","5px","margin-top","4px"],["align","right","width","44%"],[2,"float","left","margin-left","3px"],["type","text","placeholder","\u0e48\u0e27\u0e27/\u0e14\u0e14/\u0e1b\u0e1b\u0e1b\u0e1b",1,"form-control","jcalendar","txtStartDate",2,"width","120px",3,"ngModelChange","click","ngModel"],[2,"float","left","margin-left","4px","margin-top","5px"],["onClick","$('.txtStartDate').focus();",1,"fa","fa-calendar",2,"font-size","16px"],["type","text","placeholder","\u0e48\u0e27\u0e27/\u0e14\u0e14/\u0e1b\u0e1b\u0e1b\u0e1b",1,"form-control","jcalendar","txtEndDate",2,"width","120px",3,"ngModelChange","click","ngModel"],["onClick","$('.txtEndDate').focus();",1,"fa","fa-calendar",2,"font-size","16px"],[2,"width","250px",3,"ngModelChange","ngModel","ngModelOptions"],["type","text",1,"form-control",2,"width","60px",3,"ngModelChange","change","ngModel"],[2,"float","left","margin-left","2px"],["type","text","readonly","",1,"form-control",2,"width","255px",3,"ngModelChange","ngModel"],[2,"float","left","margin-left","2px","margin-top","2px"],[1,"far","fa-list-alt",2,"font-size","20px","margin-left","2px","cursor","pointer",3,"click"],[2,"float","right","margin-left","5px","margin-top","4px"],[2,"float","right","margin-left","5px"],["name","pcheck","type","checkbox","id","pcheck",2,"width","15px","margin-top","5px",3,"ngModelChange","click","ngModel","value"],["type","text",1,"form-control",2,"width","320px",3,"ngModelChange","ngModel"],["name","psign_chk","type","checkbox","id","psign_chk",2,"width","15px","margin-top","5px",3,"ngModelChange","click","ngModel","value"],["name","preport_chk","type","checkbox","id","preport_chk",2,"width","15px","margin-top","5px",3,"ngModelChange","click","ngModel","value"],["align","center",1,"card-footer"],["type","button",1,"btn","btn-info",2,"margin-left","5px",3,"click"],["type","reset",1,"btn","btn-warning",2,"margin-left","5px","color","white",3,"click"],[3,"value"]],template:function(r,t){if(1&r){const n=e.RV6();e.j41(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"table",13)(5,"tr")(6,"td",14),e.EFF(7,"\u0e04\u0e27\u0e32\u0e21 :\xa0"),e.k0s(),e.j41(8,"td",15)(9,"div",16)(10,"ng-select",17,0),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.pcase_type,i)||(t.result.pcase_type=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.changeCaseType(i))}),e.DNE(12,G,2,2,"ng-option",18),e.k0s()(),e.j41(13,"div",19),e.EFF(14,"\xa0\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e14\u0e35 :\xa0\xa0"),e.k0s(),e.j41(15,"div",16)(16,"ng-select",20,1),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.pcase_cate_id,i)||(t.result.pcase_cate_id=i),e.Njj(i)}),e.DNE(18,L,2,2,"ng-option",18),e.k0s()()()(),e.j41(19,"tr")(20,"td",14),e.EFF(21,"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e01\u0e32\u0e23Run\u0e40\u0e25\u0e02\u0e04\u0e14\u0e35\u0e14\u0e33 :\xa0"),e.k0s(),e.j41(22,"td",15)(23,"div",16)(24,"ng-select",21,2),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.ptitle_group,i)||(t.result.ptitle_group=i),e.Njj(i)}),e.DNE(26,U,2,2,"ng-option",18),e.k0s()(),e.j41(27,"div",22)(28,"input",23),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.pcon_flag,i)||(t.result.pcon_flag=i),e.Njj(i)}),e.k0s()(),e.j41(29,"div",24),e.EFF(30,"\u0e23\u0e27\u0e21\u0e04\u0e14\u0e35\u0e44\u0e01\u0e25\u0e48\u0e40\u0e01\u0e25\u0e35\u0e48\u0e22"),e.k0s()()(),e.j41(31,"tr")(32,"td",25),e.EFF(33,"\u0e08\u0e32\u0e01\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 :\xa0"),e.k0s(),e.j41(34,"div",26)(35,"input",27,3),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.txtStartDate,i)||(t.result.txtStartDate=i),e.Njj(i)}),e.bIt("click",function(){e.eBV(n);const i=e.sdS(36);return e.Njj(t.directiveDate(i.value,"txtStartDate"))}),e.k0s()(),e.j41(37,"div",28),e.nrm(38,"i",29),e.k0s(),e.j41(39,"div",19),e.EFF(40,"\xa0\u0e16\u0e36\u0e07\xa0\xa0"),e.k0s(),e.j41(41,"div",16)(42,"input",30,4),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.txtEndDate,i)||(t.result.txtEndDate=i),e.Njj(i)}),e.bIt("click",function(){e.eBV(n);const i=e.sdS(43);return e.Njj(t.directiveDate(i.value,"txtEndDate"))}),e.k0s()(),e.j41(44,"div",28),e.nrm(45,"i",31),e.k0s()(),e.j41(46,"tr")(47,"td",14),e.EFF(48,"\u0e04\u0e39\u0e48\u0e04\u0e27\u0e32\u0e21 :\xa0"),e.k0s(),e.j41(49,"div",26)(50,"ng-select",32,5),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.pprint_type,i)||(t.result.pprint_type=i),e.Njj(i)}),e.DNE(52,H,2,2,"ng-option",18),e.k0s()()(),e.j41(53,"tr")(54,"td",25),e.EFF(55,"\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e07\u0e32\u0e19\u0e17\u0e35\u0e48\u0e2d\u0e2d\u0e01\u0e40\u0e25\u0e02 :\xa0"),e.k0s(),e.j41(56,"div",26)(57,"input",33),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.pdep_code,i)||(t.result.pdep_code=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.tabChangeInput("pdep_code",i))}),e.k0s()(),e.j41(58,"div",34)(59,"input",35),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.dep_name,i)||(t.result.dep_name=i),e.Njj(i)}),e.k0s()(),e.j41(60,"div",36)(61,"i",37),e.bIt("click",function(){return e.eBV(n),e.Njj(t.clickOpenMyModalComponent(1))}),e.k0s()()(),e.j41(62,"tr")(63,"td",25)(64,"div",38),e.EFF(65,"\xa0\u0e1c\u0e39\u0e49\u0e08\u0e31\u0e14\u0e17\u0e33\xa0\xa0"),e.k0s(),e.j41(66,"div",39)(67,"input",40,6),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.poff_chk,i)||(t.result.poff_chk=i),e.Njj(i)}),e.bIt("click",function(){e.eBV(n);const i=e.sdS(68);return e.Njj(t.assignOffChk(i.checked))}),e.k0s()()(),e.j41(69,"div",26)(70,"input",33),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.poff_id,i)||(t.result.poff_id=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.tabChangeInput("poff_id",i))}),e.k0s()(),e.j41(71,"div",34)(72,"input",35),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.poff_name,i)||(t.result.poff_name=i),e.Njj(i)}),e.k0s()(),e.j41(73,"div",36)(74,"i",37),e.bIt("click",function(){return e.eBV(n),e.Njj(t.clickOpenMyModalComponent(2))}),e.k0s()(),e.j41(75,"div",19),e.EFF(76,"\xa0\u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07 :\xa0\xa0"),e.k0s(),e.j41(77,"div",26)(78,"input",41),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.poff_post,i)||(t.result.poff_post=i),e.Njj(i)}),e.k0s()()(),e.j41(79,"tr")(80,"td",25)(81,"div",38),e.EFF(82,"\xa0\u0e1c\u0e39\u0e49\u0e2d\u0e33\u0e19\u0e27\u0e22\u0e01\u0e32\u0e23\xa0\xa0"),e.k0s(),e.j41(83,"div",39)(84,"input",42,7),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.psign_chk,i)||(t.result.psign_chk=i),e.Njj(i)}),e.bIt("click",function(){e.eBV(n);const i=e.sdS(85);return e.Njj(t.assignSignChk(i.checked))}),e.k0s()()(),e.j41(86,"div",26)(87,"input",33),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.psign_id,i)||(t.result.psign_id=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.tabChangeInput("psign_id",i))}),e.k0s()(),e.j41(88,"div",34)(89,"input",35),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.psign_name,i)||(t.result.psign_name=i),e.Njj(i)}),e.k0s()(),e.j41(90,"div",36)(91,"i",37),e.bIt("click",function(){return e.eBV(n),e.Njj(t.clickOpenMyModalComponent(3))}),e.k0s()(),e.j41(92,"div",19),e.EFF(93,"\xa0\u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07 :\xa0\xa0"),e.k0s(),e.j41(94,"div",26)(95,"input",41),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.psign_post,i)||(t.result.psign_post=i),e.Njj(i)}),e.k0s()()(),e.j41(96,"tr")(97,"td",25)(98,"div",38),e.EFF(99,"\xa0\u0e1c\u0e39\u0e49\u0e1e\u0e34\u0e1e\u0e32\u0e01\u0e29\u0e32\u0e2b\u0e31\u0e27\u0e2b\u0e19\u0e49\u0e32\u0e28\u0e32\u0e25\xa0\xa0"),e.k0s(),e.j41(100,"div",39)(101,"input",43,8),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.preport_chk,i)||(t.result.preport_chk=i),e.Njj(i)}),e.bIt("click",function(){e.eBV(n);const i=e.sdS(102);return e.Njj(t.assignReportChk(i.checked))}),e.k0s()()(),e.j41(103,"div",26)(104,"input",33),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.preport_judge_id,i)||(t.result.preport_judge_id=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.tabChangeInput("preport_judge_id",i))}),e.k0s()(),e.j41(105,"div",34)(106,"input",35),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.preport_judge_name,i)||(t.result.preport_judge_name=i),e.Njj(i)}),e.k0s()(),e.j41(107,"div",36)(108,"i",37),e.bIt("click",function(){return e.eBV(n),e.Njj(t.clickOpenMyModalComponent(4))}),e.k0s()(),e.j41(109,"div",19),e.EFF(110,"\xa0\u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07 :\xa0\xa0"),e.k0s(),e.j41(111,"div",26)(112,"input",41),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.preport_judge_post,i)||(t.result.preport_judge_post=i),e.Njj(i)}),e.k0s()()(),e.j41(113,"div"),e.EFF(114,"\xa0"),e.k0s()()(),e.j41(115,"div",44)(116,"button",45),e.bIt("click",function(){return e.eBV(n),e.Njj(t.printReport())}),e.EFF(117,"\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"),e.k0s(),e.j41(118,"button",46),e.bIt("click",function(){return e.eBV(n),e.Njj(t.ClearAll())}),e.EFF(119,"\u0e25\u0e49\u0e32\u0e07\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d"),e.k0s()()()()()}2&r&&(e.R7$(10),e.R50("ngModel",t.result.pcase_type),e.Y8G("ngModelOptions",e.lJ4(32,I)),e.R7$(2),e.Y8G("ngForOf",t.getCaseType),e.R7$(4),e.R50("ngModel",t.result.pcase_cate_id),e.Y8G("ngModelOptions",e.lJ4(33,I)),e.R7$(2),e.Y8G("ngForOf",t.getCaseCate),e.R7$(6),e.R50("ngModel",t.result.ptitle_group),e.R7$(2),e.Y8G("ngForOf",t.getTitle),e.R7$(2),e.R50("ngModel",t.result.pcon_flag),e.Y8G("value",1),e.R7$(7),e.R50("ngModel",t.result.txtStartDate),e.R7$(7),e.R50("ngModel",t.result.txtEndDate),e.R7$(8),e.R50("ngModel",t.result.pprint_type),e.Y8G("ngModelOptions",e.lJ4(34,I)),e.R7$(2),e.Y8G("ngForOf",t.getPrintType),e.R7$(5),e.R50("ngModel",t.result.pdep_code),e.R7$(2),e.R50("ngModel",t.result.dep_name),e.R7$(8),e.R50("ngModel",t.result.poff_chk),e.Y8G("value",1),e.R7$(3),e.R50("ngModel",t.result.poff_id),e.R7$(2),e.R50("ngModel",t.result.poff_name),e.R7$(6),e.R50("ngModel",t.result.poff_post),e.R7$(6),e.R50("ngModel",t.result.psign_chk),e.Y8G("value",1),e.R7$(3),e.R50("ngModel",t.result.psign_id),e.R7$(2),e.R50("ngModel",t.result.psign_name),e.R7$(6),e.R50("ngModel",t.result.psign_post),e.R7$(6),e.R50("ngModel",t.result.preport_chk),e.Y8G("value",1),e.R7$(3),e.R50("ngModel",t.result.preport_judge_id),e.R7$(2),e.R50("ngModel",t.result.preport_judge_name),e.R7$(6),e.R50("ngModel",t.result.preport_judge_post))},dependencies:[C.Sq,_.me,_.Zm,_.BC,_.vS,f.vr,f.xt],styles:[".btn-info[_ngcontent-%COMP%]{color:#fff!important}.modal-content[_ngcontent-%COMP%]{width:600px!important;min-height:200px!important;max-height:600px!important;height:auto!important}"]})}return l})();const X=["prca0800"],z=["openbutton"],Q=["closebutton"],W=["scasetypeid"],Z=["sCaseStat"],K=["sTitleGroup"],A=()=>({standalone:!0});function q(l,d){if(1&l&&(e.j41(0,"ng-option",45),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.fieldIdValue),e.R7$(),e.JRh(s.fieldNameValue)}}function $(l,d){if(1&l&&(e.j41(0,"ng-option",45),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.fieldIdValue),e.R7$(),e.JRh(s.fieldNameValue)}}function ee(l,d){if(1&l&&(e.j41(0,"ng-option",45),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.fieldIdValue),e.R7$(),e.JRh(s.fieldNameValue)}}let te=(()=>{class l{constructor(s,r,t,n,a,i){this.formBuilder=s,this.http=r,this.SpinnerService=t,this.printReportService=n,this.ngbModal=a,this.authService=i,this.title="datatables",this.selectedCasetype="\u0e41\u0e1e\u0e48\u0e07",this.result=[],this.loadModalListComponent=!1,this.loadModalJudgeComponent=!1,this.dtOptions={},this.dtTrigger=new T.B,this.loadComponent=!1}ngOnInit(){this.sessData=localStorage.getItem(this.authService.sessJson),this.userData=JSON.parse(this.sessData),this.successHttp();let s=new g.Lr;s=s.set("Content-Type","application/json");var r=JSON.stringify({table_name:"pcase_type",field_id:"case_type",field_name:"case_type_desc",order_by:"case_type ASC",userToken:this.userData.userToken});this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",r,{headers:s}).subscribe(t=>{let n=JSON.parse(JSON.stringify(t));this.getCaseType=n,this.selCaseType=this.userData.defaultCaseType},t=>{})}successHttp(){let s=new g.Lr;s=s.set("Content-Type","application/json");var r=JSON.stringify({userToken:this.userData.userToken,url_name:"prca0800"});return new Promise((n,a)=>{this.http.post("/"+this.userData.appName+"Api/API/authen",r,{headers:s}).toPromise().then(i=>{let o=JSON.parse(JSON.stringify(i));console.log(o),this.programName=o.programName,this.defaultCaseType=o.defaultCaseType,this.defaultCaseTypeText=o.defaultCaseTypeText,this.defaultTitle=o.defaultTitle,this.defaultRedTitle=o.defaultRedTitle,n(i)},i=>{a(i)})})}rerender(){this.dtElement.dtInstance.then(s=>{s.destroy(),this.dtTrigger.next(null)})}ngAfterViewInit(){myExtObject.callCalendar(),this.dtTrigger.next(null)}ngOnDestroy(){this.dtTrigger.unsubscribe()}ClearAll(){window.location.reload()}changeTitle(s,r){this.title="";var t=JSON.stringify({table_name:"ptitle",field_id:"title_id",field_name:"title",field_name2:"title_eng",condition:" AND case_type="+s+" And title_flag=1",order_by:" title_id ASC",userToken:this.userData.userToken});console.log("fTitle :"+t);let n=new g.Lr;return n=n.set("Content-Type","application/json"),new Promise((i,o)=>{this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t,{headers:n}).subscribe(u=>{let p=JSON.parse(JSON.stringify(u));this.getTitle=p,r>0&&(this.title=r)},u=>{})})}tabChangeInput(s,r){if("pdep_code"==s){var t=JSON.stringify({table_name:"pdepartment",field_id:"dep_code",field_name:"dep_name",condition:" AND dep_code='"+r.target.value+"'",userToken:this.userData.userToken});console.log(t),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t).subscribe(n=>{let a=JSON.parse(JSON.stringify(n));console.log(a),a.length?this.result.dep_name=a[0].fieldNameValue:(this.result.pdep_code="",this.result.dep_name="")},n=>{})}else"poff_id"==s?(t=JSON.stringify({table_name:"pofficer",field_id:"off_id",field_name:"off_name",field_name2:"post_id",condition:" AND off_id='"+r.target.value+"'",userToken:this.userData.userToken}),console.log(t),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t).subscribe(a=>{let i=JSON.parse(JSON.stringify(a));i.length?(this.result.poff_name=i[0].fieldNameValue,this.getPost(i[0].fieldNameValue2,2)):(this.result.poff_id="",this.result.poff_name="")},a=>{})):"psign_id"==s?(t=JSON.stringify({table_name:"pofficer",field_id:"off_id",field_name:"off_name",field_name2:"post_id",condition:" AND off_id='"+r.target.value+"'",userToken:this.userData.userToken}),console.log(t),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t).subscribe(a=>{let i=JSON.parse(JSON.stringify(a));i.length?(this.result.psign_name=i[0].fieldNameValue,this.getPost(i[0].fieldNameValue2,3)):(this.result.psign_id="",this.result.psign_name="")},a=>{})):"preport_judge_id"==s&&(t=JSON.stringify({table_name:"pjudge",field_id:"judge_id",field_name:"judge_name",field_name2:"post_id",condition:" AND judge_id='"+r.target.value+"'",userToken:this.userData.userToken}),console.log(t),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t).subscribe(a=>{let i=JSON.parse(JSON.stringify(a));i.length?(this.result.preport_judge_name=i[0].fieldNameValue,this.getPost(i[0].fieldNameValue2,4)):(this.result.preport_judge_id="",this.result.preport_judge_name="")},a=>{}))}getPost(s,r){if(s){var t=JSON.stringify({table_name:"pposition",field_id:"post_id",field_name:"post_name",condition:" AND post_id='"+s+"'",userToken:this.userData.userToken});console.log(t),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t).subscribe(n=>{let a=JSON.parse(JSON.stringify(n));a.length?2==r?this.result.poff_post=a[0].fieldNameValue:3==r?this.result.psign_post=a[0].fieldNameValue:4==r&&(this.result.preport_judge_post=a[0].fieldNameValue):2==r?this.result.poff_post="":3==r?this.result.psign_post="":4==r&&(this.result.preport_judge_post="")},n=>{})}}clickOpenMyModalComponent(s){this.modalType=s,this.loadMyModalComponent()}loadMyModalComponent(){if(c(".modal-backdrop").remove(),1==this.modalType){c("#exampleModal").find(".modal-content").css("width","800px");var s=JSON.stringify({table_name:"pdepartment",field_id:"dep_code",field_name:"dep_name",search_id:"",search_desc:"",userToken:this.userData.userToken});this.listTable="pdepartment",this.listFieldId="dep_code",this.listFieldName="dep_name",this.listFieldNull="",this.http.disableLoading().post("/"+this.userData.appName+"ApiUTIL/API/popup",s).subscribe(r=>{console.log(r),this.list=r;const t=this.ngbModal.open(j.Y,{size:"lg",backdrop:"static"});t.componentInstance.items=this.list,t.componentInstance.value1="pdepartment",t.componentInstance.value2="dep_code",t.componentInstance.value3="dep_name",t.componentInstance.types="1",t.result.then(n=>{n&&1==this.modalType&&(this.result.pdep_code=n.fieldIdValue,this.result.dep_name=n.fieldNameValue)})},r=>{})}2==this.modalType||3==this.modalType?(c("#exampleModal").find(".modal-content").css("width","800px"),s=JSON.stringify({table_name:"pofficer",field_id:"off_id",field_name:"off_name",field_name2:"post_id",search_id:"",search_desc:"",userToken:this.userData.userToken}),this.listTable="pofficer",this.listFieldId="off_id",this.listFieldName="off_name",this.listFieldName2="post_id",this.listFieldNull="",this.http.disableLoading().post("/"+this.userData.appName+"ApiUTIL/API/popup",s).subscribe(t=>{console.log(t),this.list=t;const n=this.ngbModal.open(j.Y,{size:"lg",backdrop:"static"});n.componentInstance.items=this.list,n.componentInstance.value1="pofficer",n.componentInstance.value2="off_id",n.componentInstance.value3="off_name",n.componentInstance.value4="post_id",n.componentInstance.types="1",n.result.then(a=>{a&&(2==this.modalType?(this.result.poff_id=a.fieldIdValue,this.result.poff_name=a.fieldNameValue,this.getPost(a.fieldNameValue2,this.modalType)):3==this.modalType&&(this.result.psign_id=a.fieldIdValue,this.result.psign_name=a.fieldNameValue,this.getPost(a.fieldNameValue2,this.modalType)))})},t=>{})):4==this.modalType&&(s=JSON.stringify({table_name:"pjudge",field_id:"judge_id",field_name:"judge_name",field_name2:"post_id",search_id:"",search_desc:"",userToken:this.userData.userToken}),this.listTable="pjudge",this.listFieldId="judge_id",this.listFieldName="judge_name",this.listFieldName2="post_id",this.listFieldNull="",this.http.disableLoading().post("/"+this.userData.appName+"ApiUTIL/API/popup",s).subscribe(t=>{console.log(t),this.list=t;const n=this.ngbModal.open(j.Y,{size:"lg",backdrop:"static"});n.componentInstance.items=this.list,n.componentInstance.value1="pjudge",n.componentInstance.value2="judge_id",n.componentInstance.value3="judge_name",n.componentInstance.value4="post_id",n.componentInstance.types="1",n.result.then(a=>{a&&4==this.modalType&&(this.result.preport_judge_id=a.fieldIdValue,this.result.preport_judge_name=a.fieldNameValue,this.getPost(a.fieldNameValue2,this.modalType))})},t=>{}))}closeModal(){this.loadModalListComponent=!1,this.loadModalJudgeComponent=!1}fCaseTitle(s){var r=JSON.stringify({table_name:"ptitle",field_id:"title",field_name:"title",field_name2:"title_group",condition:"AND title_flag='1' AND case_type='"+s+"'",order_by:" order_id ASC",userToken:this.userData.userToken});return new Promise((n,a)=>{this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",r).subscribe(i=>{let o=JSON.parse(JSON.stringify(i));console.log(o),this.getTitle=o,this.fCaseStat(s,o[0].fieldIdValue)},i=>{})})}fCaseStat(s,r){var t=JSON.stringify({table_name:"pcase_cate",field_id:"case_cate_id",field_name:"case_cate_name",condition:" AND case_type='"+s+"'",order_by:" case_cate_id ASC",userToken:this.userData.userToken});let n=new g.Lr;return n=n.set("Content-Type","application/json"),new Promise((i,o)=>{this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t,{headers:n}).subscribe(u=>{let p=JSON.parse(JSON.stringify(u));this.getCaseCate=p},u=>{})})}receiveFuncListData(s){console.log(s),1==this.modalType?(this.result.pdep_code=s.fieldIdValue,this.result.dep_name=s.fieldNameValue):2==this.modalType?(this.result.poff_id=s.fieldIdValue,this.result.poff_name=s.fieldNameValue,this.getPost(s.fieldNameValue2,this.modalType)):3==this.modalType?(this.result.psign_id=s.fieldIdValue,this.result.psign_name=s.fieldNameValue,this.getPost(s.fieldNameValue2,this.modalType)):4==this.modalType&&(this.result.preport_judge_id=s.fieldIdValue,this.result.preport_judge_name=s.fieldNameValue,this.getPost(s.fieldNameValue2,this.modalType)),this.closebutton.nativeElement.click()}receiveJudgeListData(s){this.result.pid=s.judge_id,this.result.pstat_name=s.judge_name,this.closebutton.nativeElement.click()}directiveDate(s,r){this.result[r]=s}assignOffChk(s){1==s?(this.result.poff_id=this.userData.userCode,this.result.poff_name=this.userData.offName,this.result.poff_post=this.userData.postName):(this.result.poff_id="",this.result.poff_name="",this.result.poff_post="")}assignSignChk(s){1==s?(this.result.psign_id=this.userData.directorId,this.result.psign_name=this.userData.directorName,this.result.psign_post=this.userData.directorPostName):(this.result.psign_id="",this.result.psign_name="",this.result.psign_post="")}assignReportChk(s){1==s?(this.result.preport_judge_id=this.userData.headJudgeId,this.result.preport_judge_name=this.userData.headJudgeName,this.result.preport_judge_post=this.userData.headJudgePost):(this.result.preport_judge_id="",this.result.preport_judge_name="",this.result.preport_judge_post="")}printReport(s){if(!this.result.txtStartDate||!this.result.txtEndDate)return alert("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e43\u0e2b\u0e49\u0e04\u0e23\u0e1a\u0e16\u0e49\u0e27\u0e19"),!1;var t=JSON.stringify({ptitle:this.result.ptitle_group?this.result.ptitle_group:"",poff_name:this.result.poff_name?this.result.poff_name:"",poff_post:this.result.poff_post?this.result.poff_post:"",psign_name:this.result.psign_name?this.result.psign_name:"",psign_post:this.result.psign_post?this.result.psign_post:"",preport_judge_name:this.result.preport_judge_name?this.result.preport_judge_name:"",preport_judge_post:this.result.preport_judge_post?this.result.preport_judge_post:"",pdate_start:this.result.txtStartDate?myExtObject.conDate(this.result.txtStartDate):"",pdate_end:this.result.txtEndDate?myExtObject.conDate(this.result.txtEndDate):"",pdep_code:this.result.pdep_code?this.result.pdep_code:"",pcase_court_type:this.result.pcase_court_type?this.result.pcase_court_type:"",pcase_type:this.result.pcase_type?this.result.pcase_type.toString():"",pcase_cate_id:this.result.pcase_cate_id?this.result.pcase_cate_id.toString():"",ptitle_group:this.result.ptitle_group?this.getTitle.find(n=>n.fieldIdValue===this.result.ptitle_group.toString()).fieldNameValue2.toString():"",pcon_flag:1==this.result.pcon_flag?"1":"0",pflag:s.toString()});console.log(t),this.printReportService.printReport("rca0800",t)}changeCaseType(s){this.sCaseStat.clearModel(),this.sTitleGroup.clearModel(),this.fCaseTitle(s)}static#e=this.\u0275fac=function(r){return new(r||l)(e.rXU(_.ok),e.rXU(g.Qq),e.rXU(E.ex),e.rXU(k.h),e.rXU(b.Bq),e.rXU(D.u))};static#t=this.\u0275cmp=e.VBU({type:l,selectors:[["app-prca0800"],["ngbd-popover-basic"],["ngbd-popover-tplcontent"]],viewQuery:function(r,t){if(1&r&&(e.GBs(X,7),e.GBs(z,7),e.GBs(Q,7),e.GBs(N._,5),e.GBs(W,5),e.GBs(Z,5),e.GBs(K,5)),2&r){let n;e.mGM(n=e.lsd())&&(t.prca0800=n.first),e.mGM(n=e.lsd())&&(t.openbutton=n.first),e.mGM(n=e.lsd())&&(t.closebutton=n.first),e.mGM(n=e.lsd())&&(t.dtElement=n.first),e.mGM(n=e.lsd())&&(t.scasetypeid=n.first),e.mGM(n=e.lsd())&&(t.sCaseStat=n.first),e.mGM(n=e.lsd())&&(t.sTitleGroup=n.first)}},decls:115,vars:31,consts:[["sCaseType",""],["sCaseStat",""],["sTitleGroup",""],["txtStartDate",""],["txtEndDate",""],["poff_chk",""],["psign_chk",""],["preport_chk",""],["id","div-wraper",2,"width","100%","height","100%"],[1,"content",2,"padding","10px"],[1,"card-body"],["align","center",1,"card",2,"box-shadow","none !important","padding","5px"],["width","100%","border","0","cellspacing","2","cellpadding","2",1,"form_table"],["align","right","width","20%"],["align","left"],[2,"float","left"],[2,"width","100px",3,"ngModelChange","change","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[2,"float","left","margin-left","8px","margin-top","5px"],[2,"width","225px",3,"ngModelChange","ngModel","ngModelOptions"],[2,"width","100px",3,"ngModelChange","ngModel"],[2,"float","left","margin-left","5px"],["name","pcon_flag","type","checkbox","id","pcon_flag",2,"width","15px","margin-top","5px",3,"ngModelChange","ngModel","value"],[2,"float","left","margin-left","5px","margin-top","4px"],["align","right","width","44%"],[2,"float","left","margin-left","3px"],["type","text","placeholder","\u0e48\u0e27\u0e27/\u0e14\u0e14/\u0e1b\u0e1b\u0e1b\u0e1b",1,"form-control","jcalendar","txtStartDate",2,"width","120px",3,"ngModelChange","click","ngModel"],[2,"float","left","margin-left","4px","margin-top","5px"],["onClick","$('.txtStartDate').focus();",1,"fa","fa-calendar",2,"font-size","16px"],["type","text","placeholder","\u0e48\u0e27\u0e27/\u0e14\u0e14/\u0e1b\u0e1b\u0e1b\u0e1b",1,"form-control","jcalendar","txtEndDate",2,"width","120px",3,"ngModelChange","click","ngModel"],["onClick","$('.txtEndDate').focus();",1,"fa","fa-calendar",2,"font-size","16px"],["type","text",1,"form-control",2,"width","60px",3,"ngModelChange","change","ngModel"],[2,"float","left","margin-left","2px"],["type","text","readonly","",1,"form-control",2,"width","255px",3,"ngModelChange","ngModel"],[2,"float","left","margin-left","2px","margin-top","2px"],[1,"far","fa-list-alt",2,"font-size","20px","margin-left","2px","cursor","pointer",3,"click"],[2,"float","right","margin-left","5px","margin-top","4px"],[2,"float","right","margin-left","5px"],["name","pcheck","type","checkbox","id","pcheck",2,"width","15px","margin-top","5px",3,"ngModelChange","click","ngModel","value"],["type","text",1,"form-control",2,"width","320px",3,"ngModelChange","ngModel"],["name","psign_chk","type","checkbox","id","psign_chk",2,"width","15px","margin-top","5px",3,"ngModelChange","click","ngModel","value"],["name","preport_chk","type","checkbox","id","preport_chk",2,"width","15px","margin-top","5px",3,"ngModelChange","click","ngModel","value"],["align","center",1,"card-footer"],["type","button",1,"btn","btn-info",2,"margin-left","5px",3,"click"],["type","reset",1,"btn","btn-warning",2,"margin-left","5px","color","white",3,"click"],[3,"value"]],template:function(r,t){if(1&r){const n=e.RV6();e.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"table",12)(5,"tr")(6,"td",13),e.EFF(7,"\u0e04\u0e27\u0e32\u0e21 :\xa0"),e.k0s(),e.j41(8,"td",14)(9,"div",15)(10,"ng-select",16,0),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.pcase_type,i)||(t.result.pcase_type=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.changeCaseType(i))}),e.DNE(12,q,2,2,"ng-option",17),e.k0s()(),e.j41(13,"div",18),e.EFF(14,"\xa0\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e14\u0e35 :\xa0\xa0"),e.k0s(),e.j41(15,"div",15)(16,"ng-select",19,1),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.pcase_cate_id,i)||(t.result.pcase_cate_id=i),e.Njj(i)}),e.DNE(18,$,2,2,"ng-option",17),e.k0s()()()(),e.j41(19,"tr")(20,"td",13),e.EFF(21,"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e01\u0e32\u0e23Run\u0e40\u0e25\u0e02\u0e04\u0e14\u0e35\u0e14\u0e33 :\xa0"),e.k0s(),e.j41(22,"td",14)(23,"div",15)(24,"ng-select",20,2),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.ptitle_group,i)||(t.result.ptitle_group=i),e.Njj(i)}),e.DNE(26,ee,2,2,"ng-option",17),e.k0s()(),e.j41(27,"div",21)(28,"input",22),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.pcon_flag,i)||(t.result.pcon_flag=i),e.Njj(i)}),e.k0s()(),e.j41(29,"div",23),e.EFF(30,"\u0e23\u0e27\u0e21\u0e04\u0e14\u0e35\u0e44\u0e01\u0e25\u0e48\u0e40\u0e01\u0e25\u0e35\u0e48\u0e22"),e.k0s()()(),e.j41(31,"tr")(32,"td",24),e.EFF(33,"\u0e08\u0e32\u0e01\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 :\xa0"),e.k0s(),e.j41(34,"div",25)(35,"input",26,3),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.txtStartDate,i)||(t.result.txtStartDate=i),e.Njj(i)}),e.bIt("click",function(){e.eBV(n);const i=e.sdS(36);return e.Njj(t.directiveDate(i.value,"txtStartDate"))}),e.k0s()(),e.j41(37,"div",27),e.nrm(38,"i",28),e.k0s(),e.j41(39,"div",18),e.EFF(40,"\xa0\u0e16\u0e36\u0e07\xa0\xa0"),e.k0s(),e.j41(41,"div",15)(42,"input",29,4),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.txtEndDate,i)||(t.result.txtEndDate=i),e.Njj(i)}),e.bIt("click",function(){e.eBV(n);const i=e.sdS(43);return e.Njj(t.directiveDate(i.value,"txtEndDate"))}),e.k0s()(),e.j41(44,"div",27),e.nrm(45,"i",30),e.k0s()(),e.j41(46,"tr")(47,"td",24),e.EFF(48,"\u0e2b\u0e19\u0e48\u0e27\u0e22\u0e07\u0e32\u0e19\u0e17\u0e35\u0e48\u0e2d\u0e2d\u0e01\u0e40\u0e25\u0e02 :\xa0"),e.k0s(),e.j41(49,"div",25)(50,"input",31),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.pdep_code,i)||(t.result.pdep_code=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.tabChangeInput("pdep_code",i))}),e.k0s()(),e.j41(51,"div",32)(52,"input",33),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.dep_name,i)||(t.result.dep_name=i),e.Njj(i)}),e.k0s()(),e.j41(53,"div",34)(54,"i",35),e.bIt("click",function(){return e.eBV(n),e.Njj(t.clickOpenMyModalComponent(1))}),e.k0s()()(),e.j41(55,"tr")(56,"td",24)(57,"div",36),e.EFF(58,"\xa0\u0e1c\u0e39\u0e49\u0e08\u0e31\u0e14\u0e17\u0e33\xa0\xa0"),e.k0s(),e.j41(59,"div",37)(60,"input",38,5),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.poff_chk,i)||(t.result.poff_chk=i),e.Njj(i)}),e.bIt("click",function(){e.eBV(n);const i=e.sdS(61);return e.Njj(t.assignOffChk(i.checked))}),e.k0s()()(),e.j41(62,"div",25)(63,"input",31),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.poff_id,i)||(t.result.poff_id=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.tabChangeInput("poff_id",i))}),e.k0s()(),e.j41(64,"div",32)(65,"input",33),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.poff_name,i)||(t.result.poff_name=i),e.Njj(i)}),e.k0s()(),e.j41(66,"div",34)(67,"i",35),e.bIt("click",function(){return e.eBV(n),e.Njj(t.clickOpenMyModalComponent(2))}),e.k0s()(),e.j41(68,"div",18),e.EFF(69,"\xa0\u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07 :\xa0\xa0"),e.k0s(),e.j41(70,"div",25)(71,"input",39),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.poff_post,i)||(t.result.poff_post=i),e.Njj(i)}),e.k0s()()(),e.j41(72,"tr")(73,"td",24)(74,"div",36),e.EFF(75,"\xa0\u0e1c\u0e39\u0e49\u0e2d\u0e33\u0e19\u0e27\u0e22\u0e01\u0e32\u0e23\xa0\xa0"),e.k0s(),e.j41(76,"div",37)(77,"input",40,6),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.psign_chk,i)||(t.result.psign_chk=i),e.Njj(i)}),e.bIt("click",function(){e.eBV(n);const i=e.sdS(78);return e.Njj(t.assignSignChk(i.checked))}),e.k0s()()(),e.j41(79,"div",25)(80,"input",31),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.psign_id,i)||(t.result.psign_id=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.tabChangeInput("psign_id",i))}),e.k0s()(),e.j41(81,"div",32)(82,"input",33),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.psign_name,i)||(t.result.psign_name=i),e.Njj(i)}),e.k0s()(),e.j41(83,"div",34)(84,"i",35),e.bIt("click",function(){return e.eBV(n),e.Njj(t.clickOpenMyModalComponent(3))}),e.k0s()(),e.j41(85,"div",18),e.EFF(86,"\xa0\u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07 :\xa0\xa0"),e.k0s(),e.j41(87,"div",25)(88,"input",39),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.psign_post,i)||(t.result.psign_post=i),e.Njj(i)}),e.k0s()()(),e.j41(89,"tr")(90,"td",24)(91,"div",36),e.EFF(92,"\xa0\u0e1c\u0e39\u0e49\u0e1e\u0e34\u0e1e\u0e32\u0e01\u0e29\u0e32\u0e2b\u0e31\u0e27\u0e2b\u0e19\u0e49\u0e32\u0e28\u0e32\u0e25\xa0\xa0"),e.k0s(),e.j41(93,"div",37)(94,"input",41,7),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.preport_chk,i)||(t.result.preport_chk=i),e.Njj(i)}),e.bIt("click",function(){e.eBV(n);const i=e.sdS(95);return e.Njj(t.assignReportChk(i.checked))}),e.k0s()()(),e.j41(96,"div",25)(97,"input",31),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.preport_judge_id,i)||(t.result.preport_judge_id=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.tabChangeInput("preport_judge_id",i))}),e.k0s()(),e.j41(98,"div",32)(99,"input",33),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.preport_judge_name,i)||(t.result.preport_judge_name=i),e.Njj(i)}),e.k0s()(),e.j41(100,"div",34)(101,"i",35),e.bIt("click",function(){return e.eBV(n),e.Njj(t.clickOpenMyModalComponent(4))}),e.k0s()(),e.j41(102,"div",18),e.EFF(103,"\xa0\u0e15\u0e33\u0e41\u0e2b\u0e19\u0e48\u0e07 :\xa0\xa0"),e.k0s(),e.j41(104,"div",25)(105,"input",39),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.preport_judge_post,i)||(t.result.preport_judge_post=i),e.Njj(i)}),e.k0s()()(),e.j41(106,"div"),e.EFF(107,"\xa0"),e.k0s()()(),e.j41(108,"div",42)(109,"button",43),e.bIt("click",function(){return e.eBV(n),e.Njj(t.printReport(1))}),e.EFF(110,"\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"),e.k0s(),e.j41(111,"button",43),e.bIt("click",function(){return e.eBV(n),e.Njj(t.printReport(2))}),e.EFF(112,"\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19\u0e1a\u0e23\u0e23\u0e17\u0e31\u0e14\u0e40\u0e14\u0e35\u0e22\u0e27"),e.k0s(),e.j41(113,"button",44),e.bIt("click",function(){return e.eBV(n),e.Njj(t.ClearAll())}),e.EFF(114,"\u0e25\u0e49\u0e32\u0e07\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d"),e.k0s()()()()()}2&r&&(e.R7$(10),e.R50("ngModel",t.result.pcase_type),e.Y8G("ngModelOptions",e.lJ4(29,A)),e.R7$(2),e.Y8G("ngForOf",t.getCaseType),e.R7$(4),e.R50("ngModel",t.result.pcase_cate_id),e.Y8G("ngModelOptions",e.lJ4(30,A)),e.R7$(2),e.Y8G("ngForOf",t.getCaseCate),e.R7$(6),e.R50("ngModel",t.result.ptitle_group),e.R7$(2),e.Y8G("ngForOf",t.getTitle),e.R7$(2),e.R50("ngModel",t.result.pcon_flag),e.Y8G("value",1),e.R7$(7),e.R50("ngModel",t.result.txtStartDate),e.R7$(7),e.R50("ngModel",t.result.txtEndDate),e.R7$(8),e.R50("ngModel",t.result.pdep_code),e.R7$(2),e.R50("ngModel",t.result.dep_name),e.R7$(8),e.R50("ngModel",t.result.poff_chk),e.Y8G("value",1),e.R7$(3),e.R50("ngModel",t.result.poff_id),e.R7$(2),e.R50("ngModel",t.result.poff_name),e.R7$(6),e.R50("ngModel",t.result.poff_post),e.R7$(6),e.R50("ngModel",t.result.psign_chk),e.Y8G("value",1),e.R7$(3),e.R50("ngModel",t.result.psign_id),e.R7$(2),e.R50("ngModel",t.result.psign_name),e.R7$(6),e.R50("ngModel",t.result.psign_post),e.R7$(6),e.R50("ngModel",t.result.preport_chk),e.Y8G("value",1),e.R7$(3),e.R50("ngModel",t.result.preport_judge_id),e.R7$(2),e.R50("ngModel",t.result.preport_judge_name),e.R7$(6),e.R50("ngModel",t.result.preport_judge_post))},dependencies:[C.Sq,_.me,_.Zm,_.BC,_.vS,f.vr,f.xt],styles:[".btn-info[_ngcontent-%COMP%]{color:#fff!important}.modal-content[_ngcontent-%COMP%]{width:600px!important;min-height:200px!important;max-height:600px!important;height:auto!important}"]})}return l})();var m=h(9960);const ie=["prca1800"],ne=["scasetypeid"];function se(l,d){if(1&l&&(e.j41(0,"ng-option",28),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.fieldIdValue),e.R7$(),e.SpI(" ",s.fieldNameValue,"")}}function ae(l,d){if(1&l&&(e.j41(0,"ng-option",28),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.fieldNameValue),e.R7$(),e.SpI(" ",s.fieldNameValue,"")}}let re=(()=>{class l{constructor(s,r,t,n,a,i){this.formBuilder=s,this.http=r,this.SpinnerService=t,this.printReportService=n,this.ngbModal=a,this.authService=i,this.title="datatables",this.selectedCasetype="\u0e41\u0e1e\u0e48\u0e07",this.result=[],this.dtOptions={},this.dtTrigger=new T.B,this.loadComponent=!1}ngOnInit(){this.sessData=localStorage.getItem(this.authService.sessJson),this.userData=JSON.parse(this.sessData),this.successHttp();let s=new g.Lr;s=s.set("Content-Type","application/json");var r=JSON.stringify({table_name:"pcase_type",case_type:this.case_type,case_type_stat:this.case_type_stat,field_id:"case_type",field_name:"case_type_desc",order_by:"case_type ASC",userToken:this.userData.userToken});this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",r,{headers:s}).subscribe(t=>{let n=JSON.parse(JSON.stringify(t));this.getCaseType=n,this.selCaseType=this.userData.defaultCaseType},t=>{})}successHttp(){let s=new g.Lr;s=s.set("Content-Type","application/json");var r=JSON.stringify({userToken:this.userData.userToken,url_name:"prca1800"});return new Promise((n,a)=>{this.http.post("/"+this.userData.appName+"Api/API/authen",r,{headers:s}).toPromise().then(i=>{let o=JSON.parse(JSON.stringify(i));console.log(o),this.programName=o.programName,this.defaultCaseType=o.defaultCaseType,this.defaultCaseTypeText=o.defaultCaseTypeText,this.defaultTitle=o.defaultTitle,this.defaultRedTitle=o.defaultRedTitle,n(i)},i=>{a(i)})})}submitForm(s){const r=new m.sd;if(r.setTitle("\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"),this.result.s_id||this.result.e_id||this.result.yy){let n=new g.Lr;n=n.set("Content-Type","application/json");var t=JSON.stringify({case_type:this.result.case_type,title:this.result.title,s_id:this.result.s_id,e_id:this.result.e_id,yy:this.result.yy,userToken:this.userData.userToken});console.log(t),this.SpinnerService.show(),this.http.post("/"+this.userData.appName+"ApiCA/API/CASE/prca1800",t,{headers:n}).subscribe(a=>{let i=JSON.parse(JSON.stringify(a));if(console.log(i),0==i.result){this.SpinnerService.hide(),r.setMessage(i.error),r.setButtonLabels("\u0e15\u0e01\u0e25\u0e07"),r.setConfig({layoutType:m.z.WARNING});const o=r.openConfirmBox$().subscribe(u=>{o.unsubscribe()})}else this.printReport(s)},a=>{this.SpinnerService.hide()})}else{r.setMessage("\u0e01\u0e23\u0e38\u0e13\u0e32\u0e23\u0e30\u0e1a\u0e38\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48\u0e04\u0e14\u0e35\u0e43\u0e2b\u0e49\u0e04\u0e23\u0e1a"),r.setButtonLabels("\u0e15\u0e01\u0e25\u0e07"),r.setConfig({layoutType:m.z.WARNING});const n=r.openConfirmBox$().subscribe(a=>{1==a.success&&this.result.setFocus("s_id"),n.unsubscribe()})}}rerender(){this.dtElement.dtInstance.then(s=>{s.destroy(),this.dtTrigger.next(null)})}ngAfterViewInit(){myExtObject.callCalendar(),this.dtTrigger.next(null)}ngOnDestroy(){this.dtTrigger.unsubscribe()}ClearAll(){window.location.reload()}changeCaseType(s){this.selCaseType=s}changeCaseTypeStat(s,r){this.case_type_stat="";var t=JSON.stringify({table_name:"pcase_type_stat",field_id:"case_type_stat",field_name:"case_type_stat_desc",field_name2:"display_column",condition:" AND case_type="+s,order_by:" order_id ASC",userToken:this.userData.userToken});console.log("fCaseTypeStat :"+t);let n=new g.Lr;return n=n.set("Content-Type","application/json"),new Promise((i,o)=>{this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t,{headers:n}).subscribe(u=>{let p=JSON.parse(JSON.stringify(u));this.getCaseTypeStat=p,r>0&&(this.case_type_stat=r)},u=>{})})}changeTitle(s,r){this.title="";var t=JSON.stringify({table_name:"ptitle",field_id:"title_id",field_name:"title",field_name2:"title_eng",condition:" AND case_type="+s+" And title_flag=1",order_by:" title_id ASC",userToken:this.userData.userToken});console.log("fTitle :"+t);let n=new g.Lr;return n=n.set("Content-Type","application/json"),new Promise((i,o)=>{this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t,{headers:n}).subscribe(u=>{let p=JSON.parse(JSON.stringify(u));this.getTitle=p,r>0&&(this.title=r)},u=>{})})}printReport(s){typeof this.result.title>"u"&&(this.result.title=""),typeof this.result.s_id>"u"&&(this.result.s_id=""),typeof this.result.e_id>"u"&&(this.result.e_id=""),typeof this.result.yy>"u"&&(this.result.yy="");var t=JSON.stringify({pcase_type:this.result.case_type?this.result.case_type.toString():"",ptitle:this.result.title?this.result.title:"",prpt_type:s?s.toString():"",pid_start:this.result.s_id?this.result.s_id:"",pid_end:this.result.e_id?this.result.e_id:"",pyear:this.result.yy?this.result.yy:"",pflag:""});console.log(t),this.printReportService.printReport("rca1800",t)}static#e=this.\u0275fac=function(r){return new(r||l)(e.rXU(_.ok),e.rXU(g.Qq),e.rXU(E.ex),e.rXU(k.h),e.rXU(b.Bq),e.rXU(D.u))};static#t=this.\u0275cmp=e.VBU({type:l,selectors:[["app-prca1800"],["ngbd-popover-basic"],["ngbd-popover-tplcontent"]],viewQuery:function(r,t){if(1&r&&(e.GBs(ie,7),e.GBs(N._,5),e.GBs(ne,5)),2&r){let n;e.mGM(n=e.lsd())&&(t.prca1800=n.first),e.mGM(n=e.lsd())&&(t.dtElement=n.first),e.mGM(n=e.lsd())&&(t.scasetypeid=n.first)}},decls:48,vars:10,consts:[["sCaseType",""],["sTitle",""],["id","div-wraper",2,"width","100%","height","100%"],[1,"content",2,"padding","10px"],[1,"card-body"],["align","center",1,"card",2,"box-shadow","none !important","padding","5px"],["width","100%","border","0","cellspacing","2","cellpadding","2",1,"form_table"],["align","right","width","40%"],["align","left"],[2,"float","left"],[2,"width","100px",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","hidden","name","hid_branch_type","id","hid_branch_type",3,"ngModelChange","ngModel"],["type","hidden","name","hid_case_type_stat","id","hid_case_type_stat",3,"ngModelChange","ngModel"],["type","hidden","name","hid_title","id","hid_title",3,"ngModelChange","ngModel"],["align","right"],[2,"width","100px",3,"ngModelChange","ngModel"],[2,"float","left","margin-left","8px"],[2,"float","left","margin-left","3px"],["name","s_id","type","text","id","s_id","value","",1,"form-control",2,"width","80px","height","28px",3,"ngModelChange","ngModel"],["name","e_id","type","text","id","e_id","value","",1,"form-control",2,"width","80px","height","28px",3,"ngModelChange","ngModel"],["name","yy","type","text","id","yy","value","",1,"form-control",2,"width","80px","height","28px",3,"ngModelChange","ngModel"],[1,"card-footer"],["type","button",1,"btn","btn-info",2,"margin-left","35%",3,"click"],["type","button",1,"btn","btn-info",2,"margin-left","5px",3,"click"],["type","reset",1,"btn","btn-warning",2,"margin-left","5px","color","white",3,"click"],["bdColor","rgba(51, 51, 51, 0.8)","size","default","type","ball-spin-clockwise"],[2,"color","gray"],[3,"value"]],template:function(r,t){if(1&r){const n=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"table",6)(5,"tr")(6,"td",7),e.EFF(7,"\u0e04\u0e27\u0e32\u0e21 :\xa0"),e.k0s(),e.j41(8,"td",8)(9,"div",9)(10,"ng-select",10,0),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.case_type,i)||(t.result.case_type=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),t.changeCaseTypeStat(i,0),e.Njj(t.changeTitle(i,0))}),e.DNE(12,se,2,2,"ng-option",11),e.k0s(),e.j41(13,"input",12),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.hid_branch_type,i)||(t.hid_branch_type=i),e.Njj(i)}),e.k0s(),e.j41(14,"input",13),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.hid_case_type_stat,i)||(t.hid_case_type_stat=i),e.Njj(i)}),e.k0s(),e.j41(15,"input",14),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.hid_title,i)||(t.hid_title=i),e.Njj(i)}),e.k0s()()()(),e.j41(16,"tr")(17,"td",15),e.EFF(18,"\u0e04\u0e33\u0e19\u0e33\u0e2b\u0e19\u0e49\u0e32\u0e04\u0e14\u0e35 :\xa0"),e.k0s(),e.j41(19,"td",8)(20,"div",9)(21,"ng-select",16,1),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.title,i)||(t.result.title=i),e.Njj(i)}),e.DNE(23,ae,2,2,"ng-option",11),e.k0s()(),e.j41(24,"div",17),e.EFF(25," \u0e40\u0e25\u0e02\u0e17\u0e35\u0e48 :\xa0"),e.k0s(),e.j41(26,"div",18)(27,"input",19),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.s_id,i)||(t.result.s_id=i),e.Njj(i)}),e.k0s()(),e.j41(28,"div",18),e.EFF(29," - \xa0"),e.k0s(),e.j41(30,"div",18)(31,"input",20),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.e_id,i)||(t.result.e_id=i),e.Njj(i)}),e.k0s()(),e.j41(32,"div",18),e.EFF(33," / \xa0"),e.k0s(),e.j41(34,"div",18)(35,"input",21),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.yy,i)||(t.result.yy=i),e.Njj(i)}),e.k0s()()()(),e.j41(36,"div"),e.EFF(37,"\xa0"),e.k0s()()(),e.j41(38,"div",22)(39,"button",23),e.bIt("click",function(){return e.eBV(n),e.Njj(t.submitForm(1))}),e.EFF(40,"\u0e2a\u0e23\u0e49\u0e32\u0e07 barcode (\u0e40\u0e04\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e1e\u0e34\u0e21\u0e1e\u0e4c barcode)"),e.k0s(),e.j41(41,"button",24),e.bIt("click",function(){return e.eBV(n),e.Njj(t.submitForm(2))}),e.EFF(42,"\u0e2a\u0e23\u0e49\u0e32\u0e07 barcode (\u0e1e\u0e34\u0e21\u0e1e\u0e4c 4 Label)"),e.k0s(),e.j41(43,"button",25),e.bIt("click",function(){return e.eBV(n),e.Njj(t.ClearAll())}),e.EFF(44,"\u0e25\u0e49\u0e32\u0e07\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d"),e.k0s()()(),e.j41(45,"ngx-spinner",26)(46,"p",27),e.EFF(47,"Please Wait. "),e.k0s()()()()}2&r&&(e.R7$(10),e.R50("ngModel",t.result.case_type),e.R7$(2),e.Y8G("ngForOf",t.getCaseType),e.R7$(),e.R50("ngModel",t.hid_branch_type),e.R7$(),e.R50("ngModel",t.hid_case_type_stat),e.R7$(),e.R50("ngModel",t.hid_title),e.R7$(6),e.R50("ngModel",t.result.title),e.R7$(2),e.Y8G("ngForOf",t.getTitle),e.R7$(4),e.R50("ngModel",t.result.s_id),e.R7$(4),e.R50("ngModel",t.result.e_id),e.R7$(4),e.R50("ngModel",t.result.yy))},dependencies:[C.Sq,_.me,_.BC,_.vS,E.et,f.vr,f.xt],styles:[".btn-info[_ngcontent-%COMP%]{color:#fff!important}.modal-content[_ngcontent-%COMP%]{width:600px!important;min-height:200px!important;max-height:600px!important;height:auto!important}"]})}return l})();const le=["prca1910"],oe=["scasetypeid"],v=()=>({standalone:!0});function ue(l,d){if(1&l&&(e.j41(0,"ng-option",24),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.id),e.R7$(),e.JRh(s.text)}}function pe(l,d){if(1&l&&(e.j41(0,"ng-option",24),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.fieldIdValue),e.R7$(),e.JRh(s.fieldNameValue)}}function de(l,d){if(1&l&&(e.j41(0,"ng-option",24),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.fieldIdValue),e.R7$(),e.JRh(s.fieldNameValue)}}function _e(l,d){if(1&l){const s=e.RV6();e.j41(0,"tr")(1,"td",16),e.EFF(2,"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e04\u0e14\u0e35 :\xa0"),e.k0s(),e.j41(3,"td",17)(4,"div",18)(5,"ng-select",28,3),e.mxI("ngModelChange",function(t){e.eBV(s);const n=e.XpG();return e.DH7(n.result.title,t)||(n.result.title=t),e.Njj(t)}),e.DNE(7,de,2,2,"ng-option",12),e.k0s()(),e.j41(8,"div",29)(9,"input",30),e.mxI("ngModelChange",function(t){e.eBV(s);const n=e.XpG();return e.DH7(n.result.s_id,t)||(n.result.s_id=t),e.Njj(t)}),e.k0s()(),e.j41(10,"div",13),e.EFF(11," - \xa0"),e.k0s(),e.j41(12,"div",10)(13,"input",31),e.mxI("ngModelChange",function(t){e.eBV(s);const n=e.XpG();return e.DH7(n.result.e_id,t)||(n.result.e_id=t),e.Njj(t)}),e.k0s()(),e.j41(14,"div",13),e.EFF(15," / \xa0"),e.k0s(),e.j41(16,"div",10)(17,"input",32),e.mxI("ngModelChange",function(t){e.eBV(s);const n=e.XpG();return e.DH7(n.result.yy,t)||(n.result.yy=t),e.Njj(t)}),e.k0s()()()()}if(2&l){const s=e.XpG();e.R7$(5),e.R50("ngModel",s.result.title),e.R7$(2),e.Y8G("ngForOf",s.getTitle),e.R7$(2),e.R50("ngModel",s.result.s_id),e.R7$(4),e.R50("ngModel",s.result.e_id),e.R7$(4),e.R50("ngModel",s.result.yy)}}function ge(l,d){1&l&&(e.j41(0,"tr")(1,"td",33),e.EFF(2,"\u0e15\u0e31\u0e49\u0e07\u0e41\u0e15\u0e48\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 :\xa0"),e.k0s(),e.j41(3,"td")(4,"div",10),e.nrm(5,"input",34),e.k0s(),e.j41(6,"div",10),e.nrm(7,"i",35),e.k0s(),e.j41(8,"div",36),e.EFF(9,"\xa0\u0e16\u0e36\u0e07\xa0\xa0"),e.k0s(),e.j41(10,"div",18),e.nrm(11,"input",37),e.k0s(),e.j41(12,"div",10),e.nrm(13,"i",38),e.k0s()()())}function he(l,d){if(1&l&&(e.j41(0,"ng-option",24),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.fieldIdValue),e.R7$(),e.JRh(s.fieldNameValue)}}let ce=(()=>{class l{constructor(s,r,t,n,a,i){this.formBuilder=s,this.http=r,this.SpinnerService=t,this.printReportService=n,this.ngbModal=a,this.authService=i,this.title="datatables",this.selectedCasetype="\u0e41\u0e1e\u0e48\u0e07",this.result=[],this.dtOptions={},this.dtTrigger=new T.B,this.loadComponent=!1}ngOnInit(){this.sessData=localStorage.getItem(this.authService.sessJson),this.userData=JSON.parse(this.sessData),this.successHttp();let s=new g.Lr;s=s.set("Content-Type","application/json");var r=JSON.stringify({table_name:"pcase_type",case_type:this.case_type,case_type_stat:this.case_type_stat,field_id:"case_type",field_name:"case_type_desc",order_by:"case_type ASC",userToken:this.userData.userToken});this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",r,{headers:s}).subscribe(t=>{let n=JSON.parse(JSON.stringify(t));this.getCaseType=n,this.selCaseType=this.userData.defaultCaseType},t=>{}),this.getContentType=[{id:"2",text:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e04\u0e14\u0e35"},{id:"1",text:"\u0e27\u0e31\u0e19\u0e19\u0e31\u0e14"}],r=JSON.stringify({table_name:"pdepartment",field_id:"dep_code",field_name:"dep_name",field_name2:"print_dep_name",userToken:this.userData.userToken}),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",r,{headers:s}).subscribe(t=>{let n=JSON.parse(JSON.stringify(t));this.getDep=n,this.getDep.forEach(a=>a.fieldIdValue=a.fieldIdValue.toString()),console.log(this.getDep)},t=>{}),this.result.pcontent_type="2",this.result.pcheck=1,this.result.yy=myExtObject.curYear()}tabChangeSelect(s,r,t,n){if(typeof r<"u"){if(1==n)var a=r.filter(i=>i.fieldIdValue===t.target.value);else a=r.filter(o=>o.fieldIdValue===t);console.log(r),0!=a.length?(this.result[s]=a[0].fieldIdValue,this[s]=a[0].fieldIdValue):(this.result[s]=null,this[s]=null)}else this.result[s]=null,this[s]=null}changeContentType(s){"1"==s?(setTimeout(()=>{myExtObject.callCalendarSet("date_start"),myExtObject.callCalendarSet("date_end")},200),this.result.title="",this.result.s_id="",this.result.e_id="",this.result.yy=""):(this.result.date_start="",this.result.date_end="")}successHttp(){let s=new g.Lr;s=s.set("Content-Type","application/json");var r=JSON.stringify({userToken:this.userData.userToken,url_name:"prca1910"});return new Promise((n,a)=>{this.http.post("/"+this.userData.appName+"Api/API/authen",r,{headers:s}).toPromise().then(i=>{let o=JSON.parse(JSON.stringify(i));console.log(o),this.programName=o.programName,this.defaultCaseType=o.defaultCaseType,this.defaultCaseTypeText=o.defaultCaseTypeText,this.defaultTitle=o.defaultTitle,this.defaultRedTitle=o.defaultRedTitle,n(i)},i=>{a(i)})})}rerender(){this.dtElement.dtInstance.then(s=>{s.destroy(),this.dtTrigger.next(null)})}ngAfterViewInit(){myExtObject.callCalendar(),this.dtTrigger.next(null)}ngOnDestroy(){this.dtTrigger.unsubscribe()}ClearAll(){window.location.reload()}changeCaseTypeStat(s,r){this.case_type_stat="";var t=JSON.stringify({table_name:"pcase_type_stat",field_id:"case_type_stat",field_name:"case_type_stat_desc",field_name2:"display_column",condition:" AND case_type="+s,order_by:" order_id ASC",userToken:this.userData.userToken});console.log("fCaseTypeStat :"+t);let n=new g.Lr;return n=n.set("Content-Type","application/json"),new Promise((i,o)=>{this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t,{headers:n}).subscribe(u=>{let p=JSON.parse(JSON.stringify(u));this.getCaseTypeStat=p,r>0&&(this.case_type_stat=r)},u=>{})})}changeCaseType(s){var r=JSON.stringify({table_name:"ptitle",field_id:"title",field_name:"title",condition:"AND title_flag='1' AND case_type='"+s+"'",order_by:" order_id ASC",userToken:this.userData.userToken}),t=JSON.stringify({table_name:"ptitle",field_id:"title",field_name:"title",condition:"AND title_flag='2' AND case_type='"+s+"'",order_by:" order_id ASC",userToken:this.userData.userToken}),n=JSON.stringify({table_name:"pcase_cate",field_id:"case_cate_id",field_name:"case_cate_name",condition:"AND case_type='"+s+"'",order_by:" case_cate_id ASC",userToken:this.userData.userToken});let a=new g.Lr;return a=a.set("Content-Type","application/json"),new Promise((o,u)=>{this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",r,{headers:a}).subscribe(p=>{let y=JSON.parse(JSON.stringify(p));this.getTitle=y},p=>{}),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t,{headers:a}).subscribe(p=>{let y=JSON.parse(JSON.stringify(p));this.getRedTitle=y},p=>{}),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",n,{headers:a}).subscribe(p=>{let y=JSON.parse(JSON.stringify(p));this.getCaseCate=y},p=>{})})}changeTitle(s,r){this.title="";var t=JSON.stringify({table_name:"ptitle",field_id:"title_id",field_name:"title",field_name2:"title_eng",condition:" AND case_type="+s+" And title_flag=1",order_by:" title_id ASC",userToken:this.userData.userToken});console.log("fTitle :"+t);let n=new g.Lr;return n=n.set("Content-Type","application/json"),new Promise((i,o)=>{this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t,{headers:n}).subscribe(u=>{let p=JSON.parse(JSON.stringify(u));this.getTitle=p,r>0&&(this.title=r)},u=>{})})}CheckNull(s){}printReport(s){typeof this.result.title>"u"&&(this.result.title=""),typeof this.result.s_id>"u"&&(this.result.s_id=""),typeof this.result.e_id>"u"&&(this.result.e_id=""),typeof this.result.yy>"u"&&(this.result.yy=""),typeof this.result.dep_id>"u"&&(this.result.dep_id=""),typeof this.result.case_type>"u"&&(this.result.case_type=""),this.result.date_start=typeof c("#txt_date_start").val()>"u"?"":myExtObject.conDate(c("#txt_date_start").val()),this.result.date_end=typeof c("#txt_date_end").val()>"u"?"":myExtObject.conDate(c("#txt_date_end").val());var n=JSON.stringify({ptype:this.result.pcontent_type?this.result.pcontent_type.toString():"",pcase_type:this.result.case_type?this.result.case_type.toString():"",pdate_start:this.result.date_start,pdate_end:this.result.date_end,pdep_code:this.result.dep_id?this.result.dep_id.toString():"",ptitle:this.result.title?this.result.title.toString():"",pid_start:this.result.s_id?this.result.s_id.toString():"",pid_end:this.result.e_id?this.result.e_id.toString():"",pyear:this.result.yy?this.result.yy.toString():"",pflag_nored:1==this.result.pcheck?"1":"0",ptype2:s.toString()});console.log(n),this.printReportService.printReport("rca1910",n)}static#e=this.\u0275fac=function(r){return new(r||l)(e.rXU(_.ok),e.rXU(g.Qq),e.rXU(E.ex),e.rXU(k.h),e.rXU(b.Bq),e.rXU(D.u))};static#t=this.\u0275cmp=e.VBU({type:l,selectors:[["app-prca1910"],["ngbd-popover-basic"],["ngbd-popover-tplcontent"]],viewQuery:function(r,t){if(1&r&&(e.GBs(le,7),e.GBs(N._,5),e.GBs(oe,5)),2&r){let n;e.mGM(n=e.lsd())&&(t.prca1910=n.first),e.mGM(n=e.lsd())&&(t.dtElement=n.first),e.mGM(n=e.lsd())&&(t.scasetypeid=n.first)}},decls:46,vars:15,consts:[["sType",""],["sCaseType",""],["sDep",""],["sTitle",""],["id","div-wraper",2,"width","100%","height","100%"],[1,"content",2,"padding","10px"],[1,"card-body"],["align","center",1,"card",2,"box-shadow","none !important","padding","5px"],["width","100%","border","0","cellspacing","2","cellpadding","2",1,"form_table"],["align","right","width","44%"],[2,"float","left","margin-left","3px"],[2,"width","150px",3,"ngModelChange","change","ngModel","ngModelOptions"],[3,"value",4,"ngFor","ngForOf"],[2,"float","left","margin-left","5px"],["name","pcheck","type","checkbox","id","pcheck",2,"width","15px","margin-top","5px",3,"ngModelChange","ngModel","value"],[2,"float","left","margin-left","5px","margin-top","4px"],["align","right","width","20%"],["align","left"],[2,"float","left"],[2,"width","100px",3,"ngModelChange","change","ngModel","ngModelOptions"],[4,"ngIf"],["type","text","onkeypress","return (event.charCode >= 48 && event.charCode <= 57) || event.charCode == 46",1,"form-control",2,"width","80px","text-align","center","float","left",3,"ngModelChange","change","ngModel"],[2,"float","left","margin-left","2px"],[2,"width","250px",3,"ngModelChange","change","ngModel"],[3,"value"],["align","center",1,"card-footer"],["type","button",1,"btn","btn-info",2,"margin-left","5px",3,"click"],["type","reset",1,"btn","btn-warning",2,"margin-left","5px","color","white",3,"click"],[2,"width","110%",3,"ngModelChange","ngModel"],[2,"float","left","margin-left","8px"],["name","s_id","type","text","id","s_id","value","",1,"form-control",2,"width","80px","height","28px",3,"ngModelChange","ngModel"],["name","e_id","type","text","id","e_id","value","",1,"form-control",2,"width","80px","height","28px",3,"ngModelChange","ngModel"],["name","yy","type","text","id","yy","value","",1,"form-control",2,"width","80px","height","28px",3,"ngModelChange","ngModel"],["align","right"],["name","txt_date_start","id","txt_date_start","type","text","placeholder","\u0e48\u0e27\u0e27/\u0e14\u0e14/\u0e1b\u0e1b\u0e1b\u0e1b","value","",1,"form-control","jcalendar","date_start",2,"width","120px"],["onClick","$('.date_start').focus();",1,"fa","fa-calendar",2,"font-size","16px"],[2,"float","left","margin-left","15px"],["name","txt_date_end","id","txt_date_end","type","text","placeholder","\u0e27\u0e27/\u0e14\u0e14/\u0e1b\u0e1b\u0e1b\u0e1b","value","",1,"form-control","jcalendar","date_end",2,"width","120px"],["onClick","$('.date_end').focus();",1,"fa","fa-calendar",2,"font-size","16px"]],template:function(r,t){if(1&r){const n=e.RV6();e.j41(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"table",8)(5,"tr")(6,"td",9),e.EFF(7,"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17 :\xa0"),e.k0s(),e.j41(8,"div",10)(9,"ng-select",11,0),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.pcontent_type,i)||(t.result.pcontent_type=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.changeContentType(i))}),e.DNE(11,ue,2,2,"ng-option",12),e.k0s()(),e.j41(12,"div",13)(13,"input",14),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.pcheck,i)||(t.result.pcheck=i),e.Njj(i)}),e.k0s()(),e.j41(14,"div",15),e.EFF(15,"\u0e40\u0e09\u0e1e\u0e32\u0e30\u0e04\u0e14\u0e35\u0e17\u0e35\u0e48\u0e22\u0e31\u0e07\u0e44\u0e21\u0e48\u0e2d\u0e2d\u0e01\u0e40\u0e25\u0e02\u0e41\u0e14\u0e07"),e.k0s()(),e.j41(16,"tr")(17,"td",16),e.EFF(18,"\u0e04\u0e27\u0e32\u0e21 :\xa0"),e.k0s(),e.j41(19,"td",17)(20,"div",18)(21,"ng-select",19,1),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.case_type,i)||(t.result.case_type=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.changeCaseType(i))}),e.DNE(23,pe,2,2,"ng-option",12),e.k0s()()()(),e.DNE(24,_e,18,5,"tr",20)(25,ge,14,0,"tr",20),e.j41(26,"tr")(27,"td",16),e.EFF(28,"\u0e2a\u0e33\u0e19\u0e27\u0e19\u0e2d\u0e22\u0e39\u0e48\u0e17\u0e35\u0e48\u0e07\u0e32\u0e19 :\xa0"),e.k0s(),e.j41(29,"td",17)(30,"div",18)(31,"input",21),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.dep_id,i)||(t.dep_id=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.tabChangeSelect("dep_id",t.getDep,i,1))}),e.k0s()(),e.j41(32,"div",22)(33,"ng-select",23,2),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.dep_id,i)||(t.result.dep_id=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.tabChangeSelect("dep_id",t.getDep,i,2))}),e.nrm(35,"ng-option",24),e.DNE(36,he,2,2,"ng-option",12),e.k0s()()()(),e.j41(37,"div"),e.EFF(38,"\xa0"),e.k0s()()(),e.j41(39,"div",25)(40,"button",26),e.bIt("click",function(){return e.eBV(n),e.Njj(t.printReport(1))}),e.EFF(41,"\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"),e.k0s(),e.j41(42,"button",26),e.bIt("click",function(){return e.eBV(n),e.Njj(t.printReport(2))}),e.EFF(43,"\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19(\u0e40\u0e04\u0e23\u0e37\u0e48\u0e2d\u0e07\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e4a\u0e14)"),e.k0s(),e.j41(44,"button",27),e.bIt("click",function(){return e.eBV(n),e.Njj(t.ClearAll())}),e.EFF(45,"\u0e25\u0e49\u0e32\u0e07\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d"),e.k0s()()()()()}2&r&&(e.R7$(9),e.R50("ngModel",t.result.pcontent_type),e.Y8G("ngModelOptions",e.lJ4(13,v)),e.R7$(2),e.Y8G("ngForOf",t.getContentType),e.R7$(2),e.R50("ngModel",t.result.pcheck),e.Y8G("value",1),e.R7$(8),e.R50("ngModel",t.result.case_type),e.Y8G("ngModelOptions",e.lJ4(14,v)),e.R7$(2),e.Y8G("ngForOf",t.getCaseType),e.R7$(),e.Y8G("ngIf",2==t.result.pcontent_type),e.R7$(),e.Y8G("ngIf",1==t.result.pcontent_type),e.R7$(6),e.R50("ngModel",t.dep_id),e.R7$(2),e.R50("ngModel",t.result.dep_id),e.R7$(3),e.Y8G("ngForOf",t.getDep))},dependencies:[C.Sq,C.bT,_.me,_.Zm,_.BC,_.vS,f.vr,f.xt],styles:[".btn-info[_ngcontent-%COMP%]{color:#fff!important}.modal-content[_ngcontent-%COMP%]{width:600px!important;min-height:200px!important;max-height:600px!important;height:auto!important}"]})}return l})();var fe=h(9163),P=h(5830);const me=["closebutton"];function Ee(l,d){if(1&l&&(e.j41(0,"ng-option",38),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.id),e.R7$(),e.JRh(s.text)}}const Ce=["closebutton"],je=()=>({standalone:!0});function Te(l,d){if(1&l&&(e.j41(0,"ng-option",38),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.fieldIdValue),e.R7$(),e.SpI("",s.fieldNameValue," ")}}function Ne(l,d){if(1&l&&(e.j41(0,"ng-option",38),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.fieldIdValue),e.R7$(),e.SpI("",s.fieldNameValue," ")}}function ke(l,d){if(1&l&&(e.j41(0,"ng-option",38),e.EFF(1),e.k0s()),2&l){const s=d.$implicit;e.Y8G("value",s.fieldIdValue),e.R7$(),e.SpI("",s.fieldNameValue," ")}}const De=[R.$.childRoutes([{path:"prca0500",component:Y},{path:"prca0800",component:te},{path:"prca1800",component:re},{path:"prca1910",component:ce},{path:"prca2100",component:(()=>{class l{constructor(s,r,t,n,a,i,o,u){this.formBuilder=s,this.http=r,this.SpinnerService=t,this.authService=n,this.excelService=a,this.ngbModal=i,this.activatedRoute=o,this.printReportService=u,this.title="datatables",this.toPage="rca2100",this.result=[],this.tmpResult=[],this.dataSearch=[],this.dtOptions={},this.dtTrigger=new T.B,this.loadComponent=!1,this.loadModalComponent=!1,this.loadModalJudgeComponent=!1}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:30,processing:!0,columnDefs:[{targets:"no-sort",orderable:!1}],order:[],destroy:!0,lengthChange:!1,info:!1,paging:!1,searching:!1},this.sessData=localStorage.getItem(this.authService.sessJson),this.userData=JSON.parse(this.sessData),this.successHttp(),this.activatedRoute.queryParams.subscribe(r=>{console.log(r),this.result.prun_id=r.run_id,this.result.pprint_by=r.pprint_by,this.result.case_no=r.case_no,this.result.red_no=r.red_no}),this.getMonthTh=[{fieldIdValue:"1",fieldNameValue:"\u0e21\u0e01\u0e23\u0e32\u0e04\u0e21"},{fieldIdValue:"2",fieldNameValue:"\u0e01\u0e38\u0e21\u0e20\u0e32\u0e1e\u0e31\u0e19\u0e18\u0e4c"},{fieldIdValue:"3",fieldNameValue:"\u0e21\u0e35\u0e19\u0e32\u0e04\u0e21"},{fieldIdValue:"4",fieldNameValue:"\u0e40\u0e21\u0e29\u0e32\u0e22\u0e19"},{fieldIdValue:"5",fieldNameValue:"\u0e1e\u0e24\u0e29\u0e20\u0e32\u0e04\u0e21"},{fieldIdValue:"6",fieldNameValue:"\u0e21\u0e34\u0e16\u0e38\u0e19\u0e32\u0e22\u0e19"},{fieldIdValue:"7",fieldNameValue:"\u0e01\u0e23\u0e01\u0e0e\u0e32\u0e04\u0e21"},{fieldIdValue:"8",fieldNameValue:"\u0e2a\u0e34\u0e07\u0e2b\u0e32\u0e04\u0e21"},{fieldIdValue:"9",fieldNameValue:"\u0e01\u0e31\u0e19\u0e22\u0e32\u0e22\u0e19"},{fieldIdValue:"10",fieldNameValue:"\u0e15\u0e38\u0e25\u0e32\u0e04\u0e21"},{fieldIdValue:"11",fieldNameValue:"\u0e1e\u0e24\u0e28\u0e08\u0e34\u0e01\u0e32\u0e22\u0e19"},{fieldIdValue:"12",fieldNameValue:"\u0e18\u0e31\u0e19\u0e27\u0e32\u0e04\u0e21"}];var s=JSON.stringify({table_name:"pcase_type",field_id:"case_type",field_name:"case_type_desc",order_by:" case_type ASC",userToken:this.userData.userToken});this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",s).subscribe(r=>{let t=JSON.parse(JSON.stringify(r));this.getCaseType=t,this.selCaseType=c("body").find("ng-select#case_type span.ng-value-label").html()},r=>{}),s=JSON.stringify({table_name:"pdepartment",field_id:"dep_code",field_name:"dep_name",field_name2:"print_dep_name",userToken:this.userData.userToken}),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",s).subscribe(r=>{let t=JSON.parse(JSON.stringify(r));this.getDep=t,this.getDep.forEach(n=>n.fieldIdValue=n.fieldIdValue.toString()),console.log(this.getDep)},r=>{}),s=JSON.stringify({cond:2,userToken:this.userData.userToken}),this.listTable="pjudge",this.listFieldId="judge_id",this.listFieldName="judge_name",this.listFieldNull="",this.listFieldType=JSON.stringify({type:2}),this.http.post("/"+this.userData.appName+"ApiUTIL/API/popupJudge",s).subscribe(r=>{let t=JSON.parse(JSON.stringify(r));t.data.length?(this.list=t.data,console.log(this.list)):this.list=[]},r=>{}),s=JSON.stringify({table_name:"pjudge",field_id:"judge_id",field_name:"judge_name",userToken:this.userData.userToken}),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",s).subscribe(r=>{let t=JSON.parse(JSON.stringify(r));this.getJudge=t,this.getJudge.forEach(n=>n.fieldIdValue=n.fieldIdValue.toString())},r=>{}),this.getType=[{id:"",text:"\u0e44\u0e21\u0e48\u0e23\u0e30\u0e1a\u0e38"},{id:"1",text:"\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e02\u0e49\u0e32\u0e23\u0e30\u0e1a\u0e1a\u0e1e\u0e34\u0e08\u0e32\u0e23\u0e13\u0e32\u0e04\u0e14\u0e35\u0e15\u0e48\u0e2d\u0e40\u0e19\u0e37\u0e48\u0e2d\u0e07"},{id:"2",text:"\u0e0a\u0e31\u0e49\u0e19\u0e1e\u0e34\u0e08\u0e32\u0e23\u0e13\u0e32\u0e04\u0e14\u0e35\u0e15\u0e48\u0e2d\u0e40\u0e19\u0e37\u0e48\u0e2d\u0e07"},{id:"3",text:"\u0e04\u0e14\u0e35\u0e1e\u0e34\u0e40\u0e28\u0e29"},{id:"4",text:"\u0e04\u0e14\u0e35\u0e19\u0e31\u0e14\u0e27\u0e31\u0e19\u0e40\u0e2a\u0e32\u0e23\u0e4c"},{id:"5",text:"\u0e04\u0e14\u0e35\u0e19\u0e31\u0e14\u0e15\u0e2d\u0e19\u0e40\u0e22\u0e47\u0e19"},{id:"6",text:"\u0e0a\u0e31\u0e49\u0e19\u0e04\u0e14\u0e35\u0e2a\u0e32\u0e02\u0e32"},{id:"7",text:"\u0e2d\u0e37\u0e48\u0e19\u0e46"}],this.result.ptype="",this.result.date_appoint=myExtObject.curDate()}getRemark(s){this.result.premark=1==s.checked?"\u0e41\u0e25\u0e30\u0e2a\u0e33\u0e40\u0e19\u0e32\u0e04\u0e33\u0e1f\u0e49\u0e2d\u0e07":""}tabChangeSelect(s,r,t,n){if(typeof r<"u"){if(1==n)var a=r.filter(i=>i.fieldIdValue===t.target.value);else a=r.filter(o=>o.fieldIdValue===t);console.log(r),0!=a.length?(this.result[s]=a[0].fieldIdValue,this[s]=a[0].fieldIdValue):(this.result[s]=null,this[s]=null)}else this.result[s]=null,this[s]=null}tabChangeInput(s,r){let t=new g.Lr;if(t=t.set("Content-Type","application/json"),"judge_id"==s){var n=JSON.stringify({table_name:"pjudge",field_id:"judge_id",field_name:"judge_name",condition:" AND judge_id='"+r.target.value+"'",userToken:this.userData.userToken});console.log(n),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",n,{headers:t}).subscribe(a=>{let i=JSON.parse(JSON.stringify(a));i.length?this.result.judge_name=i[0].fieldNameValue:(this.result.judge_id=null,this.result.judge_name="")},a=>{})}}receiveJudgeListData(s){this.result.judge_id=s.judge_id,this.result.judge_name=s.judge_name,this.closebutton.nativeElement.click()}successHttp(){let s=new g.Lr;s=s.set("Content-Type","application/json");var r=JSON.stringify({userToken:this.userData.userToken,url_name:"prca2100"});return new Promise((n,a)=>{this.http.post("/"+this.userData.appName+"Api/API/authen",r,{headers:s}).toPromise().then(i=>{let o=JSON.parse(JSON.stringify(i));console.log(o),this.programName=o.programName,n(i)},i=>{a(i)})})}rerender(){this.dtElement.dtInstance.then(s=>{s.destroy(),this.dtTrigger.next(null)})}ngAfterViewInit(){this.dtTrigger.next(null)}ngOnDestroy(){this.dtTrigger.unsubscribe()}ngAfterContentInit(){this.result.cFlag=1,myExtObject.callCalendar()}loadMyModalComponent(){this.loadComponent=!1,this.loadModalComponent=!0,c("#exampleModal").find(".modal-body").css("height","100px")}changeCaseType(s){var r=JSON.stringify({table_name:"ptitle",field_id:"title",field_name:"title",condition:"AND title_flag='1' AND case_type='"+s+"'",order_by:" order_id ASC",userToken:this.userData.userToken}),t=JSON.stringify({table_name:"ptitle",field_id:"title",field_name:"title",condition:"AND title_flag='2' AND case_type='"+s+"'",order_by:" order_id ASC",userToken:this.userData.userToken}),n=JSON.stringify({table_name:"pcase_cate",field_id:"case_cate_id",field_name:"case_cate_name",condition:"AND case_type='"+s+"'",order_by:" case_cate_id ASC",userToken:this.userData.userToken});let a=new g.Lr;return a=a.set("Content-Type","application/json"),new Promise((o,u)=>{this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",r,{headers:a}).subscribe(p=>{JSON.parse(JSON.stringify(p))},p=>{}),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t,{headers:a}).subscribe(p=>{JSON.parse(JSON.stringify(p))},p=>{}),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",n,{headers:a}).subscribe(p=>{JSON.parse(JSON.stringify(p))},p=>{})})}closeModal(){c(".modal").find("input[type='text'],input[type='password'],textarea,select").val("").end().find("input[type=checkbox], input[type=radio]").prop("checked","").end()}loadTableComponent(s){const r=this.ngbModal.open(fe.S,{size:"lg",backdrop:"static"});r.componentInstance.value1="pjudge",r.componentInstance.value2="judge_id",r.componentInstance.value3="judge_name",r.componentInstance.value4="",r.componentInstance.types="1",r.componentInstance.value5=JSON.stringify({type:1}),r.result.then(t=>{t&&(this.result.judge_id=t.judge_id,this.result.judge_name=t.judge_name)}).catch(t=>{console.log(t)})}ClearAll(){window.location.reload()}printReport(){typeof this.result.judge_name>"u"&&(this.result.judge_name=""),typeof this.result.pgroup>"u"&&(this.result.pgroup=""),typeof this.result.proom>"u"&&(this.result.proom="");var r=JSON.stringify({pdate_appoint:myExtObject.conDate(this.result.date_appoint),judge_name:this.result.judge_name,ptype:this.result.ptype,proom:this.result.proom,pgroup:this.result.pgroup,prun_id:this.result.prun_id,pprint_type:this.result.pprint_type,pprint_by:this.result.pprint_by});console.log(r),this.printReportService.printReport("rca2100",r)}LoadData(){this.posts=[];const s=new m.sd;s.setTitle("\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"),this.SpinnerService.show();var r=JSON.stringify({event_type:this.result.event_type,event_date:this.result.event_date,userToken:this.userData.userToken});console.log(r),this.http.post("/"+this.userData.appName+"ApiKB/API/KEEPB/prca2100",r).subscribe(t=>{let n=JSON.parse(JSON.stringify(t));if(this.posts=n.data,console.log(n),1==n.result)this.dataSearch=n.data,console.log(this.dataSearch),this.checklist=this.posts,n.length&&this.posts.forEach(a=>a.edit3001=!1),this.rerender(),setTimeout(()=>{myExtObject.callCalendar()},500);else{s.setMessage(n.error),s.setButtonLabels("\u0e15\u0e01\u0e25\u0e07"),s.setConfig({layoutType:m.z.WARNING});const a=s.openConfirmBox$().subscribe(i=>{a.unsubscribe()})}this.SpinnerService.hide()},t=>{this.SpinnerService.hide()})}curencyFormat(s,r){return parseFloat(s).toFixed(r).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}CloseWindow(){window.close()}directiveDate(s,r){this.result[r]=s}goToPage(s){let r=window.location.href;r=r.substring(0,r.lastIndexOf("/")+1)+this.toPage+"?event_type="+s,window.open(r,"_blank","toolbar=no,menubar=1,location=no,directories=no,status=no,titlebar=no,fullscreen=no,scrollbars=1,resizable=no,width=1200,height=400")}static#e=this.\u0275fac=function(r){return new(r||l)(e.rXU(_.ok),e.rXU(g.Qq),e.rXU(E.ex),e.rXU(D.u),e.rXU(P.V),e.rXU(b.Bq),e.rXU(M.nX),e.rXU(k.h))};static#t=this.\u0275cmp=e.VBU({type:l,selectors:[["app-prca2100"],["ngbd-popover-basic"],["ngbd-popover-tplcontent"]],viewQuery:function(r,t){if(1&r&&(e.GBs(me,7),e.GBs(N._,5)),2&r){let n;e.mGM(n=e.lsd())&&(t.closebutton=n.first),e.mGM(n=e.lsd())&&(t.dtElement=n.first)}},decls:76,vars:10,consts:[["sPtype",""],["date_appoint",""],["id","div-wraper",2,"width","100%","height","100%"],[1,"content",2,"padding","10px"],[1,"card","card-info",2,"box-shadow","none !important"],[1,"",2,"height","40px","border-radius","4px","border","1px solid #17a2b8 !important","background-color","#e1f6f9"],[2,"float","left","margin-top","6px"],[1,"fa","fa-folder-open-o",2,"font-size","24px","margin-left","8px"],[2,"font-size","16px","margin-left","5px"],[1,"card-body"],["align","center",1,"card",2,"box-shadow","none !important","padding","5px"],["width","100%","border","0","cellspacing","2","cellpadding","2",1,"form_table"],["align","right","width","25%"],[2,"float","left"],["type","text","readonly","",1,"form-control",2,"width","300px","height","28px",3,"ngModelChange","ngModel"],["align","right"],[2,"color","red"],["type","text",1,"form-control",2,"width","150px","height","28px",3,"ngModelChange","ngModel"],[2,"float","left","margin-left","10px","margin-top","4px"],[2,"float","left","margin-left","3px"],[2,"float","left","margin-left","5px","margin-top","4px","color","red"],[2,"width","150px",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["align","left"],["name","judge_id","type","text","id","judge_id","maxlength","5",1,"form-control",2,"width","80px","height","28px",3,"ngModelChange","change","ngModel"],[2,"float","left","margin-left","2px"],["name","judge_name","type","text","id","judge_name","value","","readonly","",1,"form-control",2,"width","220px","height","28px",3,"ngModelChange","ngModel"],[2,"float","left","margin-left","2px","margin-top","4px"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"far","fa-list-alt","iDep",2,"font-size","20px","cursor","pointer",3,"click"],["type","text",1,"form-control","jcalendar","date_appoint",2,"width","120px","height","28px",3,"ngModelChange","click","ngModel"],[2,"float","left","margin-left","8px","margin-top","5px"],["onClick","$('.date_appoint').focus();",1,"fa","fa-calendar",2,"font-size","16px"],[1,"card-footer"],["type","button",1,"btn","btn-info",2,"margin-left","25%",3,"click"],["type","reset",1,"btn","btn-warning",2,"margin-left","5px","color","white",3,"click"],["type","button",1,"btn","btn-danger",2,"margin-left","8px",3,"click"],["bdColor","rgba(51, 51, 51, 0.8)","size","default","type","ball-spin-clockwise"],[2,"color","gray"],[3,"value"]],template:function(r,t){if(1&r){const n=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6),e.nrm(5,"i",7),e.j41(6,"span",8),e.EFF(7),e.k0s()()()(),e.j41(8,"div",9)(9,"div",10)(10,"table",11)(11,"tr")(12,"td",12),e.EFF(13,"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e04\u0e14\u0e35\u0e14\u0e33 :\xa0"),e.k0s(),e.j41(14,"td")(15,"div",13)(16,"input",14),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.case_no,i)||(t.result.case_no=i),e.Njj(i)}),e.k0s()()()(),e.j41(17,"tr")(18,"td",15)(19,"span",16),e.EFF(20,"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e04\u0e14\u0e35\u0e41\u0e14\u0e07"),e.k0s(),e.EFF(21," :\xa0"),e.k0s(),e.j41(22,"td")(23,"div",13)(24,"input",14),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.red_no,i)||(t.result.red_no=i),e.Njj(i)}),e.k0s()()()(),e.j41(25,"tr")(26,"td",15),e.EFF(27,"\u0e04\u0e13\u0e30 :\xa0"),e.k0s(),e.j41(28,"td")(29,"div",13)(30,"input",17),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.pgroup,i)||(t.result.pgroup=i),e.Njj(i)}),e.k0s()(),e.j41(31,"div",18),e.EFF(32,"\u0e1a\u0e31\u0e25\u0e25\u0e31\u0e07\u0e01\u0e4c :\xa0"),e.k0s(),e.j41(33,"div",19)(34,"input",17),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.proom,i)||(t.result.proom=i),e.Njj(i)}),e.k0s()(),e.j41(35,"div",20),e.EFF(36,"*** \u0e43\u0e0a\u0e49\u0e40\u0e09\u0e1e\u0e32\u0e30\u0e04\u0e14\u0e35\u0e08\u0e31\u0e14\u0e01\u0e32\u0e23\u0e21\u0e23\u0e14\u0e01 \xa0"),e.k0s()()(),e.j41(37,"tr")(38,"td",15),e.EFF(39,"\u0e0a\u0e31\u0e49\u0e19\u0e04\u0e14\u0e35 :\xa0"),e.k0s(),e.j41(40,"td")(41,"div",13)(42,"ng-select",21,0),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.ptype,i)||(t.result.ptype=i),e.Njj(i)}),e.DNE(44,Ee,2,2,"ng-option",22),e.k0s()()()(),e.j41(45,"tr")(46,"td",15),e.EFF(47,"\u0e40\u0e2a\u0e19\u0e2d :\xa0"),e.k0s(),e.j41(48,"td",23)(49,"div",13)(50,"input",24),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.judge_id,i)||(t.result.judge_id=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.tabChangeInput("judge_id",i))}),e.k0s()(),e.j41(51,"div",25)(52,"input",26),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.judge_name,i)||(t.result.judge_name=i),e.Njj(i)}),e.k0s()(),e.j41(53,"div",27)(54,"i",28),e.bIt("click",function(){return e.eBV(n),e.Njj(t.loadTableComponent(1))}),e.k0s()()()(),e.j41(55,"tr")(56,"td",15),e.EFF(57,"\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e19\u0e31\u0e14\u0e15\u0e31\u0e49\u0e07\u0e41\u0e15\u0e48\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48 :\xa0"),e.k0s(),e.j41(58,"td",23)(59,"div",13)(60,"input",29,1),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.date_appoint,i)||(t.result.date_appoint=i),e.Njj(i)}),e.bIt("click",function(){e.eBV(n);const i=e.sdS(61);return e.Njj(t.directiveDate(i.value,"date_appoint"))}),e.k0s()(),e.j41(62,"div",30),e.nrm(63,"i",31),e.k0s()()(),e.j41(64,"div"),e.EFF(65,"\xa0"),e.k0s()()(),e.j41(66,"div",32)(67,"button",33),e.bIt("click",function(){return e.eBV(n),e.Njj(t.printReport())}),e.EFF(68,"\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"),e.k0s(),e.j41(69,"button",34),e.bIt("click",function(){return e.eBV(n),e.Njj(t.ClearAll())}),e.EFF(70,"\u0e25\u0e49\u0e32\u0e07\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d"),e.k0s(),e.j41(71,"button",35),e.bIt("click",function(){return e.eBV(n),e.Njj(t.CloseWindow())}),e.EFF(72,"\u0e1b\u0e34\u0e14\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d"),e.k0s()()(),e.j41(73,"ngx-spinner",36)(74,"p",37),e.EFF(75,"Please Wait. "),e.k0s()()()()}2&r&&(e.R7$(7),e.JRh(t.programName),e.R7$(9),e.R50("ngModel",t.result.case_no),e.R7$(8),e.R50("ngModel",t.result.red_no),e.R7$(6),e.R50("ngModel",t.result.pgroup),e.R7$(4),e.R50("ngModel",t.result.proom),e.R7$(8),e.R50("ngModel",t.result.ptype),e.R7$(2),e.Y8G("ngForOf",t.getType),e.R7$(6),e.R50("ngModel",t.result.judge_id),e.R7$(2),e.R50("ngModel",t.result.judge_name),e.R7$(8),e.R50("ngModel",t.result.date_appoint))},dependencies:[C.Sq,_.me,_.BC,_.tU,_.vS,E.et,f.vr,f.xt],styles:[".btn-info[_ngcontent-%COMP%]{color:#fff!important}.modal-content[_ngcontent-%COMP%]{width:600px!important;min-height:200px!important;max-height:600px!important;height:auto!important}"]})}return l})()},{path:"prca3000",component:(()=>{class l{constructor(s,r,t,n,a,i,o,u){this.formBuilder=s,this.http=r,this.SpinnerService=t,this.authService=n,this.excelService=a,this.activatedRoute=i,this.ngbModal=o,this.printReportService=u,this.title="datatables",this.checkedList=[],this.toPage="fju0100",this.result=[],this.tmpResult=[],this.dataSearch=[],this.dtOptions={},this.dtTrigger=new T.B,this.loadComponent=!1,this.masterSelect=!1,this.loadModalComponent=!1,this.loadModalJudgeComponent=!1}ngOnInit(){this.dtOptions={pagingType:"full_numbers",pageLength:30,processing:!0,columnDefs:[{targets:"no-sort",orderable:!1}],order:[],destroy:!0},this.sessData=localStorage.getItem(this.authService.sessJson),this.userData=JSON.parse(this.sessData),this.successHttp();var s=JSON.stringify({table_name:"pcase_type",field_id:"case_type",field_name:"case_type_desc",order_by:" case_type ASC",userToken:this.userData.userToken});this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",s).subscribe(r=>{let t=JSON.parse(JSON.stringify(r));this.getCaseType=t},r=>{}),s=JSON.stringify({table_name:"ptitle",field_id:"title",field_name:"title",condition:"AND title_flag='1' AND case_type='"+this.userData.defaultCaseType+"'",order_by:" order_id ASC",userToken:this.userData.userToken}),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",s).subscribe(r=>{let t=JSON.parse(JSON.stringify(r));this.getTitle=t},r=>{}),s=JSON.stringify({table_name:"ptitle",field_id:"title",field_name:"title",condition:"AND title_flag='2' AND case_type='"+this.userData.defaultCaseType+"'",order_by:" order_id ASC",userToken:this.userData.userToken}),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",s).subscribe(r=>{let t=JSON.parse(JSON.stringify(r));this.getRedTitle=t},r=>{}),this.result.case_type=this.userData.defaultCaseType,this.result.title=this.userData.defaultTitle,this.result.red_title=this.userData.defaultRedTitle,this.result.plit_type="1"}successHttp(){let s=new g.Lr;s=s.set("Content-Type","application/json");var r=JSON.stringify({userToken:this.userData.userToken,url_name:"prca3000"});return new Promise((n,a)=>{this.http.post("/"+this.userData.appName+"Api/API/authen",r,{headers:s}).toPromise().then(i=>{let o=JSON.parse(JSON.stringify(i));console.log(o),this.programName=o.programName,this.defaultCaseType=o.defaultCaseType,this.defaultCaseTypeText=o.defaultCaseTypeText,this.defaultTitle=o.defaultTitle,this.defaultRedTitle=o.defaultRedTitle,n(i)},i=>{a(i)})})}ngAfterViewInit(){this.dtTrigger.next(null)}ngOnDestroy(){this.dtTrigger.unsubscribe()}ngAfterContentInit(){myExtObject.callCalendar()}loadMyModalComponent(){this.loadComponent=!1,this.loadModalComponent=!0,c("#exampleModal").find(".modal-body").css("height","100px")}checkUncheckAll(s,r,t){for(var n=0;n<s.length;n++)s[n][t]=this[r]}isAllSelected(s,r,t){this[r]=s.every(function(n){return 1==n[t]})}closeModal(){c(".modal").find("input[type='text'],input[type='password'],textarea,select").val("").end().find("input[type=checkbox], input[type=radio]").prop("checked","").end()}loadTableComponent(s){this.loadModalComponent=!1,this.loadComponent=!1,this.loadModalJudgeComponent=!0,c("#exampleModal").find(".modal-body").css("height","auto")}changeCaseType(s){var r=JSON.stringify({table_name:"ptitle",field_id:"title",field_name:"title",condition:"AND title_flag='1' AND case_type='"+s+"'",order_by:" order_id ASC",userToken:this.userData.userToken}),t=JSON.stringify({table_name:"ptitle",field_id:"title",field_name:"title",condition:"AND title_flag='2' AND case_type='"+s+"'",order_by:" order_id ASC",userToken:this.userData.userToken}),n=JSON.stringify({table_name:"pcase_cate",field_id:"case_cate_id",field_name:"case_cate_name",condition:"AND case_type='"+s+"'",order_by:" case_cate_id ASC",userToken:this.userData.userToken});return new Promise((i,o)=>{this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",r).subscribe(u=>{let p=JSON.parse(JSON.stringify(u));this.getTitle=p},u=>{}),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",t).subscribe(u=>{let p=JSON.parse(JSON.stringify(u));this.getRedTitle=p},u=>{}),this.http.post("/"+this.userData.appName+"ApiUTIL/API/getData",n).subscribe(u=>{let p=JSON.parse(JSON.stringify(u));this.getCaseCate=p},u=>{}),this.result.case_cate_id=null,this.result.title=null,this.result.red_title=null})}searchData(s){if(console.log(this.result),this.result.title||this.result.id||this.result.yy||this.result.red_title||this.result.red_id||this.result.red_yy){this.SpinnerService.show(),this.tmpResult=this.result;var r=c.extend({},this.tmpResult);r.allData=1,r.userToken=this.userData.userToken;var t=r;console.log(t),this.http.post("/"+this.userData.appName+(1==s?"ApiCA/API/CASE/dataFromTitle":"ApiCA/API/CASE/dataFromRedTitle"),t).subscribe(a=>{let i=JSON.parse(JSON.stringify(a));1==i.result?(this.checklist=this.posts,new Promise((u,p)=>{i.data.forEach((y,Ae,ve)=>{})}).then(()=>{}),this.dataSearch=i.data,this.masterSelect=!0,this.result.strProsName=this.dataSearch[0].pros_desc,this.result.strAccuName=this.dataSearch[0].accu_desc,this.result.title=this.dataSearch[0].title,this.result.id=this.dataSearch[0].id,this.result.yy=this.dataSearch[0].yy,this.result.red_title=this.dataSearch[0].red_title,this.result.red_id=this.dataSearch[0].red_id,this.result.red_yy=this.dataSearch[0].red_yy,this.run_id=this.dataSearch[0].run_id,console.log(this.dataSearch)):(this.dataSearch=[],this.result.strProsName="",this.result.strAccuName="",this.result.red_id="",this.result.red_yy="",this.result.case_type=this.userData.defaultCaseType,this.result.title=this.userData.defaultTitle,this.result.red_title=this.userData.defaultRedTitle,this.run_id="",this.result.plit_type="1"),console.log(i),this.SpinnerService.hide()},a=>{})}else{const a=new m.sd;a.setTitle("\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"),a.setMessage("\u0e1b\u0e49\u0e2d\u0e19\u0e40\u0e07\u0e37\u0e48\u0e2d\u0e19\u0e44\u0e02\u0e40\u0e25\u0e02\u0e04\u0e14\u0e35\u0e14\u0e33\u0e2b\u0e23\u0e37\u0e2d\u0e40\u0e25\u0e02\u0e04\u0e14\u0e35\u0e41\u0e14\u0e07\u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e04\u0e49\u0e19\u0e2b\u0e32"),a.setButtonLabels("\u0e15\u0e01\u0e25\u0e07"),a.setConfig({layoutType:m.z.WARNING});const i=a.openConfirmBox$().subscribe(o=>{1==o.success&&this.SpinnerService.hide(),i.unsubscribe()})}}getMessage(){const s=new m.sd;s.setTitle("\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"),s.setMessage("\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e01\u0e48\u0e2d\u0e19\u0e1e\u0e34\u0e21\u0e1e\u0e4c"),s.setButtonLabels("\u0e15\u0e01\u0e25\u0e07"),s.setConfig({layoutType:m.z.WARNING});const r=s.openConfirmBox$().subscribe(t=>{r.unsubscribe()})}printReport(s){if(this.dataSearch.length<1)return this.getMessage(),!1;var t=JSON.stringify({prun_id:this.run_id.toString(),plit_type:this.result.plit_type});console.log(t),this.printReportService.printReport("rca3000",t)}directiveDate(s,r){this.result[r]=s}ListData(){const s=new m.sd;s.setTitle("\u0e02\u0e49\u0e2d\u0e04\u0e27\u0e32\u0e21\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19");var r=0;if(this.checkedList=[],new Promise((n,a)=>{this.dataSearch.forEach((i,o,u)=>{1==i.edit0200&&(r++,console.log(i.run_id),this.checkedList.push(i.run_id.toString()),console.log(this.checkedList))})})&&!r){s.setMessage("\u0e23\u0e30\u0e1a\u0e38\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e17\u0e35\u0e48\u0e15\u0e49\u0e2d\u0e07\u0e01\u0e32\u0e23\u0e1e\u0e34\u0e21\u0e1e\u0e4c"),s.setButtonLabels("\u0e15\u0e01\u0e25\u0e07"),s.setConfig({layoutType:m.z.WARNING});const n=s.openConfirmBox$().subscribe(a=>{n.unsubscribe()})}}static#e=this.\u0275fac=function(r){return new(r||l)(e.rXU(_.ok),e.rXU(g.Qq),e.rXU(E.ex),e.rXU(D.u),e.rXU(P.V),e.rXU(M.nX),e.rXU(b.Bq),e.rXU(k.h))};static#t=this.\u0275cmp=e.VBU({type:l,selectors:[["app-prca3000"],["ngbd-popover-basic"],["ngbd-popover-tplcontent"]],viewQuery:function(r,t){if(1&r&&(e.GBs(Ce,7),e.GBs(N._,5)),2&r){let n;e.mGM(n=e.lsd())&&(t.closebutton=n.first),e.mGM(n=e.lsd())&&(t.dtElement=n.first)}},decls:89,vars:18,consts:[["sCaseType",""],["sTitle",""],["sRtitle",""],["id","div-wraper",2,"width","100%","height","100%"],[1,"content",2,"padding","10px"],[1,"card",2,"box-shadow","none !important","padding","5px"],[2,"width","100%","border-radius","4px","border","1px solid #333333","padding","1px","padding","5px"],[1,"lClick",2,"line-height","10px","float","none","margin-left","18px","font-weight","bold","color","#2d2ff9","padding","0 6px 0 6px","font-size","16px","border-bottom","none","width","auto","cursor","pointer","margin-bottom","6px"],["width","100%","border","0","cellspacing","2","cellpadding","2",1,"form_table"],["colspan","4","align","center",2,"height","40px"],[2,"margin-left","8px","margin-top","5px","color","red","font-weight","bold","font-size","18px"],["align","right","width","15%"],["align","left"],[2,"float","left"],[2,"width","110%","min-width","90px",3,"ngModelChange","change","ngModel","ngModelOptions","clearable"],[3,"value",4,"ngFor","ngForOf"],["align","right"],[2,"width","110%","min-width","60px",3,"ngModelChange","ngModel"],[2,"float","left","margin-left","12px"],["type","text",1,"form-control",2,"width","70px","height","28px","text-align","center",3,"ngModelChange","ngModel"],[2,"float","left","margin-left","8px","margin-top","3px"],[2,"float","left","margin-left","3px"],["type","button",1,"btn","btn-primary",2,"margin-left","15%",3,"click"],["align","right",2,"color","red"],["name","strProsName","type","text","id","strProsName","readonly","",1,"form-control",2,"width","400px","height","28px",3,"ngModelChange","ngModel"],["name","strAccuName","type","text","id","strAccuName","readonly","",1,"form-control",2,"width","400px","height","28px",3,"ngModelChange","ngModel"],[2,"float","left","margin-left","42%","color","red","font-size","18px"],["type","radio","name","plit_type","value","1",2,"width","15px","height","15px","margin-top","5px",3,"ngModelChange","ngModel"],[2,"float","left","margin-left","5px","margin-top","4px"],[2,"float","left","margin-left","8px"],["type","radio","name","plit_type","value","2",2,"width","15px","height","15px","margin-top","5px",3,"ngModelChange","ngModel"],["type","radio","name","plit_type","value","0",2,"width","15px","height","15px","margin-top","5px",3,"ngModelChange","ngModel"],[2,"float","left","margin-left","5px","margin-top","4px","color","red","font-size","18px"],["align","center",1,"card-footer"],["type","button",1,"btn","btn-info",2,"margin-left","5px",3,"click"],["type","reset","onclick","location.reload()",1,"btn","btn-warning",2,"margin-left","5px","color","white"],["bdColor","rgba(51, 51, 51, 0.8)","size","default","type","ball-spin-clockwise"],[2,"color","gray"],[3,"value"]],template:function(r,t){if(1&r){const n=e.RV6();e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"fieldset",6)(4,"legend",7),e.EFF(5,"\u0e02\u0e49\u0e2d\u0e21\u0e39\u0e25\u0e40\u0e25\u0e02\u0e04\u0e14\u0e35 "),e.k0s(),e.j41(6,"table",8)(7,"tr")(8,"td",9)(9,"div",10),e.EFF(10,"*\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a\u0e08\u0e32\u0e01\u0e0a\u0e37\u0e48\u0e2d\u0e04\u0e39\u0e48\u0e04\u0e27\u0e32\u0e21 \xa0"),e.k0s()()(),e.j41(11,"tr")(12,"td",11),e.EFF(13,"\u0e04\u0e27\u0e32\u0e21 :\xa0"),e.k0s(),e.j41(14,"td",12)(15,"div",13)(16,"ng-select",14,0),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.case_type,i)||(t.result.case_type=i),e.Njj(i)}),e.bIt("change",function(i){return e.eBV(n),e.Njj(t.changeCaseType(i))}),e.DNE(18,Te,2,2,"ng-option",15),e.k0s()()()(),e.j41(19,"tr")(20,"td",16),e.EFF(21,"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e04\u0e14\u0e35\u0e14\u0e33 :\xa0"),e.k0s(),e.j41(22,"td",12)(23,"div",13)(24,"ng-select",17,1),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.title,i)||(t.result.title=i),e.Njj(i)}),e.DNE(26,Ne,2,2,"ng-option",15),e.k0s()(),e.j41(27,"div",18)(28,"input",19),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.id,i)||(t.result.id=i),e.Njj(i)}),e.k0s()(),e.j41(29,"div",20),e.EFF(30,"/"),e.k0s(),e.j41(31,"div",21)(32,"input",19),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.yy,i)||(t.result.yy=i),e.Njj(i)}),e.k0s()(),e.j41(33,"div",21)(34,"button",22),e.bIt("click",function(){return e.eBV(n),e.Njj(t.searchData(1))}),e.EFF(35,"\u0e04\u0e49\u0e19\u0e2b\u0e32"),e.k0s()()(),e.j41(36,"td",23),e.EFF(37,"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e25\u0e02\u0e04\u0e14\u0e35\u0e41\u0e14\u0e07"),e.k0s(),e.j41(38,"td")(39,"div",13)(40,"ng-select",17,2),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.red_title,i)||(t.result.red_title=i),e.Njj(i)}),e.DNE(42,ke,2,2,"ng-option",15),e.k0s()(),e.j41(43,"div",18)(44,"input",19),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.red_id,i)||(t.result.red_id=i),e.Njj(i)}),e.k0s()(),e.j41(45,"div",20),e.EFF(46,"/"),e.k0s(),e.j41(47,"div",21)(48,"input",19),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.red_yy,i)||(t.result.red_yy=i),e.Njj(i)}),e.k0s()(),e.j41(49,"div",21)(50,"button",22),e.bIt("click",function(){return e.eBV(n),e.Njj(t.searchData(2))}),e.EFF(51,"\u0e04\u0e49\u0e19\u0e2b\u0e32"),e.k0s()()()(),e.j41(52,"tr")(53,"td",16),e.EFF(54,"\u0e42\u0e08\u0e17\u0e01\u0e4c :\xa0"),e.k0s(),e.j41(55,"td")(56,"div",13)(57,"input",24),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.strProsName,i)||(t.result.strProsName=i),e.Njj(i)}),e.k0s()()(),e.j41(58,"td",16),e.EFF(59,"\u0e08\u0e33\u0e40\u0e25\u0e22 :\xa0"),e.k0s(),e.j41(60,"td")(61,"div",13)(62,"input",25),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.strAccuName,i)||(t.result.strAccuName=i),e.Njj(i)}),e.k0s()()()(),e.j41(63,"tr")(64,"td",9)(65,"div",26),e.EFF(66,"\u0e19\u0e33 \xa0 "),e.j41(67,"input",27),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.plit_type,i)||(t.result.plit_type=i),e.Njj(i)}),e.k0s()(),e.j41(68,"div",28),e.EFF(69,"\u0e42\u0e08\u0e17\u0e01\u0e4c"),e.k0s(),e.j41(70,"div",29)(71,"input",30),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.plit_type,i)||(t.result.plit_type=i),e.Njj(i)}),e.k0s()(),e.j41(72,"div",28),e.EFF(73,"\u0e08\u0e33\u0e40\u0e25\u0e22"),e.k0s(),e.j41(74,"div",29)(75,"input",31),e.mxI("ngModelChange",function(i){return e.eBV(n),e.DH7(t.result.plit_type,i)||(t.result.plit_type=i),e.Njj(i)}),e.k0s()(),e.j41(76,"div",28),e.EFF(77,"\xa0\u0e04\u0e39\u0e48\u0e04\u0e27\u0e32\u0e21\u0e17\u0e31\u0e49\u0e07\u0e2b\u0e21\u0e14"),e.k0s(),e.j41(78,"div",32),e.EFF(79," \xa0\xa0\u0e02\u0e2d\u0e07\u0e04\u0e14\u0e35\u0e19\u0e35\u0e49\u0e44\u0e1b\u0e15\u0e23\u0e27\u0e08\u0e2a\u0e2d\u0e1a"),e.k0s()()(),e.nrm(80,"tr"),e.k0s(),e.j41(81,"div",33)(82,"button",34),e.bIt("click",function(){return e.eBV(n),e.Njj(t.printReport(1))}),e.EFF(83,"\u0e1e\u0e34\u0e21\u0e1e\u0e4c\u0e23\u0e32\u0e22\u0e07\u0e32\u0e19"),e.k0s(),e.j41(84,"button",35),e.EFF(85,"\u0e25\u0e49\u0e32\u0e07\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d"),e.k0s()()()()(),e.j41(86,"ngx-spinner",36)(87,"p",37),e.EFF(88,"Please Wait. "),e.k0s()()()}2&r&&(e.R7$(16),e.R50("ngModel",t.result.case_type),e.Y8G("ngModelOptions",e.lJ4(17,je))("clearable",!1),e.R7$(2),e.Y8G("ngForOf",t.getCaseType),e.R7$(6),e.R50("ngModel",t.result.title),e.R7$(2),e.Y8G("ngForOf",t.getTitle),e.R7$(2),e.R50("ngModel",t.result.id),e.R7$(4),e.R50("ngModel",t.result.yy),e.R7$(8),e.R50("ngModel",t.result.red_title),e.R7$(2),e.Y8G("ngForOf",t.getRedTitle),e.R7$(2),e.R50("ngModel",t.result.red_id),e.R7$(4),e.R50("ngModel",t.result.red_yy),e.R7$(9),e.R50("ngModel",t.result.strProsName),e.R7$(5),e.R50("ngModel",t.result.strAccuName),e.R7$(5),e.R50("ngModel",t.result.plit_type),e.R7$(4),e.R50("ngModel",t.result.plit_type),e.R7$(4),e.R50("ngModel",t.result.plit_type))},dependencies:[C.Sq,_.me,_.Fm,_.BC,_.vS,E.et,f.vr,f.xt],styles:[".btn-info[_ngcontent-%COMP%]{color:#fff!important}.modal-content[_ngcontent-%COMP%]{width:600px!important;min-height:200px!important;max-height:600px!important;height:auto!important}"]})}return l})()}])];let Me=(()=>{class l{static#e=this.\u0275fac=function(r){return new(r||l)};static#t=this.\u0275mod=e.$C({type:l});static#i=this.\u0275inj=e.G2t({imports:[M.iI.forChild(De),M.iI]})}return l})(),Ie=(()=>{class l{static#e=this.\u0275fac=function(r){return new(r||l)};static#t=this.\u0275mod=e.$C({type:l});static#i=this.\u0275inj=e.G2t({imports:[C.MD,Me,_.YN,_.X1,O.G]})}return l})()}}]);